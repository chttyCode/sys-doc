<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动态规划 | sys-doc</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/sys-doc/assets/css/0.styles.f2c13968.css" as="style"><link rel="preload" href="/sys-doc/assets/js/app.e81c559d.js" as="script"><link rel="preload" href="/sys-doc/assets/js/2.01d9652a.js" as="script"><link rel="preload" href="/sys-doc/assets/js/39.5aa2d3f9.js" as="script"><link rel="prefetch" href="/sys-doc/assets/js/10.331427a7.js"><link rel="prefetch" href="/sys-doc/assets/js/100.8bef59ae.js"><link rel="prefetch" href="/sys-doc/assets/js/101.e9d0dc0c.js"><link rel="prefetch" href="/sys-doc/assets/js/102.d832796d.js"><link rel="prefetch" href="/sys-doc/assets/js/103.cc35a98c.js"><link rel="prefetch" href="/sys-doc/assets/js/104.f941e134.js"><link rel="prefetch" href="/sys-doc/assets/js/11.1efe2975.js"><link rel="prefetch" href="/sys-doc/assets/js/12.ff72753c.js"><link rel="prefetch" href="/sys-doc/assets/js/13.a1feb60a.js"><link rel="prefetch" href="/sys-doc/assets/js/14.b0c7cf4d.js"><link rel="prefetch" href="/sys-doc/assets/js/15.28671588.js"><link rel="prefetch" href="/sys-doc/assets/js/16.edc12257.js"><link rel="prefetch" href="/sys-doc/assets/js/17.13d64156.js"><link rel="prefetch" href="/sys-doc/assets/js/18.61d35156.js"><link rel="prefetch" href="/sys-doc/assets/js/19.05bd98c3.js"><link rel="prefetch" href="/sys-doc/assets/js/20.a0cf136a.js"><link rel="prefetch" href="/sys-doc/assets/js/21.03ded64d.js"><link rel="prefetch" href="/sys-doc/assets/js/22.48cb9c16.js"><link rel="prefetch" href="/sys-doc/assets/js/23.0c180cf1.js"><link rel="prefetch" href="/sys-doc/assets/js/24.77e09a3e.js"><link rel="prefetch" href="/sys-doc/assets/js/25.e55672d9.js"><link rel="prefetch" href="/sys-doc/assets/js/26.e11de8a1.js"><link rel="prefetch" href="/sys-doc/assets/js/27.e81e4d27.js"><link rel="prefetch" href="/sys-doc/assets/js/28.bc3395a2.js"><link rel="prefetch" href="/sys-doc/assets/js/29.35556212.js"><link rel="prefetch" href="/sys-doc/assets/js/3.c5d528c6.js"><link rel="prefetch" href="/sys-doc/assets/js/30.9d0857b7.js"><link rel="prefetch" href="/sys-doc/assets/js/31.ee680010.js"><link rel="prefetch" href="/sys-doc/assets/js/32.05852e3d.js"><link rel="prefetch" href="/sys-doc/assets/js/33.7cfbd755.js"><link rel="prefetch" href="/sys-doc/assets/js/34.e76f8ce9.js"><link rel="prefetch" href="/sys-doc/assets/js/35.ebc3a214.js"><link rel="prefetch" href="/sys-doc/assets/js/36.65a2a20e.js"><link rel="prefetch" href="/sys-doc/assets/js/37.1260b747.js"><link rel="prefetch" href="/sys-doc/assets/js/38.bcc6ce7b.js"><link rel="prefetch" href="/sys-doc/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/sys-doc/assets/js/40.84eb3ef6.js"><link rel="prefetch" href="/sys-doc/assets/js/41.e37e5d8e.js"><link rel="prefetch" href="/sys-doc/assets/js/42.9c5cab37.js"><link rel="prefetch" href="/sys-doc/assets/js/43.966f79e6.js"><link rel="prefetch" href="/sys-doc/assets/js/44.b5f23789.js"><link rel="prefetch" href="/sys-doc/assets/js/45.685202a5.js"><link rel="prefetch" href="/sys-doc/assets/js/46.d44e470e.js"><link rel="prefetch" href="/sys-doc/assets/js/47.6773deec.js"><link rel="prefetch" href="/sys-doc/assets/js/48.c990ef53.js"><link rel="prefetch" href="/sys-doc/assets/js/49.f31b5802.js"><link rel="prefetch" href="/sys-doc/assets/js/5.75a3592b.js"><link rel="prefetch" href="/sys-doc/assets/js/50.d14b8a59.js"><link rel="prefetch" href="/sys-doc/assets/js/51.b1cfe40c.js"><link rel="prefetch" href="/sys-doc/assets/js/52.1e7f1a30.js"><link rel="prefetch" href="/sys-doc/assets/js/53.75578999.js"><link rel="prefetch" href="/sys-doc/assets/js/54.f9bf677c.js"><link rel="prefetch" href="/sys-doc/assets/js/55.b6aa3cc5.js"><link rel="prefetch" href="/sys-doc/assets/js/56.5f7cacd3.js"><link rel="prefetch" href="/sys-doc/assets/js/57.6ae7c656.js"><link rel="prefetch" href="/sys-doc/assets/js/58.e97fc62d.js"><link rel="prefetch" href="/sys-doc/assets/js/59.61d08d3a.js"><link rel="prefetch" href="/sys-doc/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/sys-doc/assets/js/60.2418d492.js"><link rel="prefetch" href="/sys-doc/assets/js/61.e562d778.js"><link rel="prefetch" href="/sys-doc/assets/js/62.0770a599.js"><link rel="prefetch" href="/sys-doc/assets/js/63.d187cafb.js"><link rel="prefetch" href="/sys-doc/assets/js/64.8c2c3fa0.js"><link rel="prefetch" href="/sys-doc/assets/js/65.1c82fe6a.js"><link rel="prefetch" href="/sys-doc/assets/js/66.32aad6ad.js"><link rel="prefetch" href="/sys-doc/assets/js/67.fef9008d.js"><link rel="prefetch" href="/sys-doc/assets/js/68.f3a45e64.js"><link rel="prefetch" href="/sys-doc/assets/js/69.948be28b.js"><link rel="prefetch" href="/sys-doc/assets/js/7.e59ee139.js"><link rel="prefetch" href="/sys-doc/assets/js/70.dffbee99.js"><link rel="prefetch" href="/sys-doc/assets/js/71.4c609c63.js"><link rel="prefetch" href="/sys-doc/assets/js/72.2ab0993d.js"><link rel="prefetch" href="/sys-doc/assets/js/73.9cde0fd0.js"><link rel="prefetch" href="/sys-doc/assets/js/74.600014cc.js"><link rel="prefetch" href="/sys-doc/assets/js/75.8488a654.js"><link rel="prefetch" href="/sys-doc/assets/js/76.5295102f.js"><link rel="prefetch" href="/sys-doc/assets/js/77.9a8dcc82.js"><link rel="prefetch" href="/sys-doc/assets/js/78.0a322ffb.js"><link rel="prefetch" href="/sys-doc/assets/js/79.0293c00b.js"><link rel="prefetch" href="/sys-doc/assets/js/8.9202dc84.js"><link rel="prefetch" href="/sys-doc/assets/js/80.1279d58a.js"><link rel="prefetch" href="/sys-doc/assets/js/81.36c4af15.js"><link rel="prefetch" href="/sys-doc/assets/js/82.b3c213b6.js"><link rel="prefetch" href="/sys-doc/assets/js/83.4c8ea4be.js"><link rel="prefetch" href="/sys-doc/assets/js/84.9993aea8.js"><link rel="prefetch" href="/sys-doc/assets/js/85.782c9deb.js"><link rel="prefetch" href="/sys-doc/assets/js/86.d5787e54.js"><link rel="prefetch" href="/sys-doc/assets/js/87.e47bbd5d.js"><link rel="prefetch" href="/sys-doc/assets/js/88.b5a4bcd6.js"><link rel="prefetch" href="/sys-doc/assets/js/89.c820e30f.js"><link rel="prefetch" href="/sys-doc/assets/js/9.fde67e0a.js"><link rel="prefetch" href="/sys-doc/assets/js/90.abc56eb9.js"><link rel="prefetch" href="/sys-doc/assets/js/91.487c0e81.js"><link rel="prefetch" href="/sys-doc/assets/js/92.96beb074.js"><link rel="prefetch" href="/sys-doc/assets/js/93.76a8490a.js"><link rel="prefetch" href="/sys-doc/assets/js/94.f8687015.js"><link rel="prefetch" href="/sys-doc/assets/js/95.3564a134.js"><link rel="prefetch" href="/sys-doc/assets/js/96.185f32bf.js"><link rel="prefetch" href="/sys-doc/assets/js/97.e6ce0909.js"><link rel="prefetch" href="/sys-doc/assets/js/98.b45af8cc.js"><link rel="prefetch" href="/sys-doc/assets/js/99.7d0cbc02.js">
    <link rel="stylesheet" href="/sys-doc/assets/css/0.styles.f2c13968.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sys-doc/" class="home-link router-link-active"><img src="/sys-doc/imgs/logo.jpeg" alt="sys-doc" class="logo"> <span class="site-name can-hide">sys-doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link router-link-active">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link router-link-active">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/sys-doc/leetCode/" aria-current="page" class="sidebar-link">leetCode</a></li><li><a href="/sys-doc/leetCode/array.html" class="sidebar-link">数组、链表</a></li><li><a href="/sys-doc/leetCode/stack.html" class="sidebar-link">队列、栈、双端队列</a></li><li><a href="/sys-doc/leetCode/recursion.html" class="sidebar-link">泛型递归、树递归</a></li><li><a href="/sys-doc/leetCode/sort.html" class="sidebar-link">排序</a></li><li><a href="/sys-doc/leetCode/search.html" class="sidebar-link">二分查找</a></li><li><a href="/sys-doc/leetCode/hash.html" class="sidebar-link">hash 表、映射、集合</a></li><li><a href="/sys-doc/leetCode/Depth.html" class="sidebar-link">深度广度优先</a></li><li><a href="/sys-doc/leetCode/string.html" class="sidebar-link">字符串</a></li><li><a href="/sys-doc/leetCode/greedy.html" class="sidebar-link">贪心算法</a></li><li><a href="/sys-doc/leetCode/divide.html" class="sidebar-link">分治</a></li><li><a href="/sys-doc/leetCode/回溯.html" class="sidebar-link">回溯</a></li><li><a href="/sys-doc/leetCode/动态规划.html" class="active sidebar-link">动态规划</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="动态规划"><a href="#动态规划" class="header-anchor">#</a> 动态规划</h1> <p>/**</p> <ul><li>直方图面积，维护一个递增的栈，当有小于栈顶元素存在时，就出栈并对出栈元素做计算，最后对栈里元素计算</li> <li>@param {number[]} heights</li> <li>@return {number}
*/
var largestRectangleArea = function(heights) {
let n = heights.length;
let i = 0;
let max = 0;
let stack = [];
while (i &lt; n) {
while (stack.length &amp;&amp; heights[i] &lt; heights[stack[stack.length - 1]]) {
let top = heights[stack.pop()];
max = Math.max(
max,
top * (i - (stack.length ? stack[stack.length - 1] : -1) - 1)
);
}
stack.push(i++);
}
while (stack.length &gt; 0) {
max = Math.max(
max,
heights[stack.pop()] *
(n - (stack.length ? stack[stack.length - 1] : -1) - 1)
);
}
return max;
};</li></ul> <p>/**
*下一个更大元素，还是一个栈但是这不再是一个递增的栈，因为是下一个更大的，每一个都要入栈，去留留给下一元素决定，倒叙遍历也是下一个更大的关键点
*
*/
function nextGreaterElement(nums1, nums2) {
const stack = [];
const retMap = {};
for (let i = nums2.length - 1; i &gt;= 0; i--) {
if (stack.length &amp;&amp; stack[stack.length - 1] &lt; nums2[i]) {
stack.pop();
}
retMap[nums2[i]] = stack.length ? stack[stack.length - 1] : -1;
stack.push(nums2[i]);
}
for (i = 0; i &lt; nums1.length; i++) {
nums1[i] = retMap[nums1[i]];
}
return nums1;
}</p> <p>// 首先是转化符号为正负1，符号栈的构建也是关键
function calc(s) {
let sign = 1;
let ops = [1];
let i = 0;
let ret = 0;
while (i &lt; s.length) {
if (s[i] === &quot; &quot;) {
i++;
} else if (s[i] === &quot;+&quot;) {
sign = ops[ops.length - 1];
i++;
} else if (s[i] === &quot;-&quot;) {
sign = -ops[ops.length - 1];
i++;
} else if (s[i] === &quot;(&quot;) {
ops.push(sign);
i++;
} else if (s[i] === &quot;)&quot;) {
ops.pop();
i++;
} else {
let num = 0;
while (s[i] !== &quot; &quot; &amp;&amp; i &lt; s.length &amp;&amp; !isNaN(Number(s[i]))) {
num = num * 10 + s[i].charCodeAt() - &quot;0&quot;.charCodeAt();
i++;
}
ret += sign * num;
}
}
return ret;
}</p> <p>/**</p> <ul><li>#号删除,栈的方式
*/
var backspaceCompare = function(s, t) {
let sStack = [];
let tStack = [];
for (let i = 0; i &lt; s.length; i++) {
if (s[i] === &quot;#&quot;) {
sStack.pop();
} else {
sStack.push(s[i]);
}
}
for (let t = 0; i &lt; t.length; i++) {
if (t[i] === &quot;#&quot;) {
tStack.pop();
} else {
tStack.push(t[i]);
}
}
return s.join() === t.join();
};
// #号删除滚雪球方式，有区别的是这个删除要倒叙删除，因为是判断字符串是否相等,顺序逆序不用要
var backspaceCompare = function(s, t) {
function removeD(str) {
let newStr = &quot;&quot;;
let backCount = 0;
for (let fast = str.length - 1; fast &gt;= 0; fast--) {
if (str[fast] === &quot;#&quot;) {
backCount++;
} else {
if (backCount === 0) {
newStr += str[fast];
} else {
backCount--;
}
}
}
return newStr;
}
return removeD(s) === removeD(t);
};</li></ul> <p>/**</p> <ul><li>接雨水，还是类似双指针解法，变形的双指针</li> <li>@param {number[]} height</li> <li>@return {number}
*/
var trap = function(height) {
let left = 0;
let right = height.length - 1;
let leftMax = 0;
let rightMax = 0;
let res = 0;
while (left &lt; right) {
if (height[left] &lt; height[right]) {
if (height[left] &gt;= leftMax) {
leftMax = height[left];
} else {
res += leftMax - height[left];
}
left++;
} else {
if (height[right] &gt;= rightMax) {
rightMax = height[right];
} else {
res += rightMax - height[right];
}
right--;
}
}
return res;
};</li></ul> <p>/**</p> <ul><li>双端队列，每次有新的进入需要删除老的小的，把自己放到队伍里再去掉队伍中又大又老的</li> <li>@param {number[]} nums</li> <li>@param {number} k</li> <li>@return {number[]}
*/
var maxSlidingWindow = function(nums, k) {
let ans = [];
let i = 0;
let stack = [];
while (i &lt; k) {
while (stack.length &amp;&amp; nums[i] &gt;= nums[stack[stack.length - 1]]) {
stack.pop();
}
stack.push(i);
i++;
}
ans[0] = nums[stack[0]];
for (i = k; i &lt; nums.length; i++) {
while (stack.length &amp;&amp; nums[i] &gt;= nums[stack[stack.length - 1]]) {
stack.pop();
}
stack.push(i);
while (stack[0] &lt;= i - k) {
stack.shift();
}
ans.push(nums[stack[0]]);
}
return ans;
};</li></ul> <p>// 有效括号，这就是典型的栈解法题目
var isValid = function(s) {
let stack = [];
for (let i = 0; i &lt; s.length; i++) {
const key = s[i];
if (key === &quot;)&quot; &amp;&amp; stack[stack.length - 1] === &quot;(&quot;) {
stack.pop();
} else if (key === &quot;]&quot; &amp;&amp; stack[stack.length - 1] === &quot;[&quot;) {
stack.pop();
} else if (key === &quot;}&quot; &amp;&amp; stack[stack.length - 1] === &quot;{&quot;) {
stack.pop();
} else {
stack.push(key);
}
}
return !stack.length;
};</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chttyCode/sys-doc/edit/master/docs/leetCode/动态规划.md" target="_blank" rel="noopener noreferrer">编辑此内容</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/11/24</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sys-doc/leetCode/回溯.html" class="prev">
        回溯
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/sys-doc/assets/js/app.e81c559d.js" defer></script><script src="/sys-doc/assets/js/2.01d9652a.js" defer></script><script src="/sys-doc/assets/js/39.5aa2d3f9.js" defer></script>
  </body>
</html>
