(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{384:function(t,n,a){"use strict";a.r(n);var s=a(44),e=Object(s.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("ul",[a("li",[t._v("重点\n"),a("ul",[a("li",[t._v("理解事件流")]),t._v(" "),a("li",[t._v("使用事件处理程序")]),t._v(" "),a("li",[t._v("了解不同类型的事件")])])])]),t._v(" "),a("h3",{attrs:{id:"_1-事件流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-事件流"}},[t._v("#")]),t._v(" 1. 事件流")]),t._v(" "),a("ul",[a("li",[t._v("事件捕获")]),t._v(" "),a("li",[t._v("事件冒泡")]),t._v(" "),a("li",[t._v("兼容好")]),t._v(" "),a("li",[t._v("DOM 事件流\n"),a("ul",[a("li",[t._v("事件捕获->到达目标->事件冒泡")])])])]),t._v(" "),a("h3",{attrs:{id:"_2-事件处理程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-事件处理程序"}},[t._v("#")]),t._v(" 2. 事件处理程序")]),t._v(" "),a("ul",[a("li",[t._v("HTML 事件处理程序\n"),a("ul",[a("li",[t._v("在 html 中通过属性定义事件处理程序，需关注转译问题")])])]),t._v(" "),a("li",[t._v("DOM0 事件处理程序\n"),a("ul",[a("li",[t._v("在 js 中通过属性赋值定义事件处理程序")])])]),t._v(" "),a("li",[t._v("DOM2 事件处理程序\n"),a("ul",[a("li",[t._v("在 js 中通过 addEventListener 添加事件处理程序、removeEventListener 去除事件处理程序")])])])]),t._v(" "),a("h3",{attrs:{id:"_3-事件对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-事件对象"}},[t._v("#")]),t._v(" 3. 事件对象")]),t._v(" "),a("ul",[a("li",[t._v("DOM 事件对象\n"),a("ul",[a("li",[t._v("this 和 currentTarget 指向注册事件处理程序的元素")]),t._v(" "),a("li",[t._v("target 指向事件真正的目标")])])])]),t._v(" "),a("h3",{attrs:{id:"_4-事件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-事件类型"}},[t._v("#")]),t._v(" 4. 事件类型")]),t._v(" "),a("ul",[a("li",[t._v("用户界面事件")]),t._v(" "),a("li",[t._v("焦点事件")]),t._v(" "),a("li",[t._v("鼠标事件")]),t._v(" "),a("li",[t._v("滚轮事件")]),t._v(" "),a("li",[t._v("输入事件")]),t._v(" "),a("li",[t._v("键盘事件")]),t._v(" "),a("li",[t._v("合成事件\n"),a("ul",[a("li",[t._v("合成事件是 DOM3 Events 中新增的，用于处理通常使用 IME 输入时的复杂输入序列。IME 可以让用户输入物理键盘上没有的字符。")])])]),t._v(" "),a("li",[t._v("HTML5 事件\n"),a("ul",[a("li",[t._v("contextmenu 事件\n"),a("ul",[a("li",[t._v("允许开发者取消默认的上下文菜单并提供自定义菜单")])])]),t._v(" "),a("li",[t._v("beforeunload 事件\n"),a("ul",[a("li",[t._v("给开发者提供阻止页面被卸载的机会")])])]),t._v(" "),a("li",[t._v("DOMContentLoaded 事件\n"),a("ul",[a("li",[t._v("事件可以绑定在 document 或 window 添加事件处理程序（实际的事件目标是 document ，但会冒泡到 window ）")]),t._v(" "),a("li",[t._v('在 document.readyState ="complete"，之后绑定不会触发')])])]),t._v(" "),a("li",[t._v("readystatechange 事件\n"),a("ul",[a("li",[t._v("uninitialized ：对象存在并尚未初始化。")]),t._v(" "),a("li",[t._v("loading ：对象正在加载数据。")]),t._v(" "),a("li",[t._v("loaded ：对象已经加载完数据。")]),t._v(" "),a("li",[t._v("interactive ：对象可以交互，但尚未加载完成。")]),t._v(" "),a("li",[t._v("complete ：对象加载完成。")])])]),t._v(" "),a("li",[t._v("pageshow 与 pagehide 事件\n"),a("ul",[a("li",[t._v("往返缓存（bfcache，back-forward cache）的功能")])])]),t._v(" "),a("li",[t._v("hashchange 事件\n"),a("ul",[a("li",[t._v("onhashchange 事件处理程序必须添加给 window")])])])])]),t._v(" "),a("li",[t._v("设备事件")]),t._v(" "),a("li",[t._v("orientationchange 事件：开发者判断用户的设备是处于垂直模式还是水平模式。")]),t._v(" "),a("li",[t._v("deviceorientation 事件：反映设备在空间中的朝向，而不涉及移动相关的信息")]),t._v(" "),a("li",[t._v("devicemotion 事件：这个事件用于提示设备实际上在移动")]),t._v(" "),a("li",[t._v("触摸及手势事件")]),t._v(" "),a("li",[t._v("触摸事件\n"),a("ul",[a("li",[t._v("touchstart：手指放到屏幕上时触发")]),t._v(" "),a("li",[t._v("touchmove：在这个事件中调用 preventDefault() 可以阻止滚动")]),t._v(" "),a("li",[t._v("touchend：手指从屏幕上移开时触发")]),t._v(" "),a("li",[t._v("touchcancel：系统停止跟踪触摸时触发。文档中并未明确什么情况下停止跟踪")])])]),t._v(" "),a("li",[t._v("手势事件\n"),a("ul",[a("li",[t._v("gesturestart ：一个手指已经放在屏幕上，再把另一个手指放到屏幕上时触发")]),t._v(" "),a("li",[t._v("gesturechange ：任何一个手指在屏幕上的位置发生变化时触发")]),t._v(" "),a("li",[t._v("gestureend ：其中一个手指离开屏幕时触发")])])])]),t._v(" "),a("h3",{attrs:{id:"_5-内存与性能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-内存与性能"}},[t._v("#")]),t._v(" 5. 内存与性能")]),t._v(" "),a("blockquote",[a("p",[t._v("页面中事件处理程序的数量与页面整体性能直接相关,原因有很多。首先，每个函数都是对象，都占用内存空间，对象越多，性能越差。其次，为指定事件处理程序所需访问 DOM 的次数会先期造成整个页面交互的延迟")])]),t._v(" "),a("ul",[a("li",[t._v("事件委托\n"),a("ul",[a("li",[t._v("优点\n"),a("ul",[a("li",[t._v("document 对象随时可用")]),t._v(" "),a("li",[t._v("节省花在设置页面事件处理程序上的时间")]),t._v(" "),a("li",[t._v("减少整个页面所需的内存，提升整体性能")])])])])]),t._v(" "),a("li",[t._v("删除事件处理程序\n"),a("ul",[a("li",[t._v("无用的事件处理程序长驻内存导致的 web 应用性能不佳")]),t._v(" "),a("li",[t._v("第一个是删除带有事件处理程序的元素")]),t._v(" "),a("li",[t._v("另一个可能导致内存中残留引用的问题是页面卸载")])])])]),t._v(" "),a("h3",{attrs:{id:"_6-模拟事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-模拟事件"}},[t._v("#")]),t._v(" 6. 模拟事件")]),t._v(" "),a("blockquote",[a("p",[t._v("模拟事件会被当成浏览器事件，会有时间冒泡，web 测试特别有用")])]),t._v(" "),a("ul",[a("li",[t._v("DOM 事件模拟")]),t._v(" "),a("li",[t._v("模拟键盘事件")]),t._v(" "),a("li",[t._v("模拟其他事件")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myBtn"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建 event 对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" event "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MouseEvents"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初始化 event 对象")]),t._v("\nevent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initMouseEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"click"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaultView"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发事件")]),t._v("\nbtn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);n.default=e.exports}}]);