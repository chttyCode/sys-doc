(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{373:function(s,t,a){"use strict";a.r(t);var n=a(44),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"代码风格统一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#代码风格统一"}},[s._v("#")]),s._v(" 代码风格统一")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("prettier")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm i prettier "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])])])]),s._v(" "),a("li",[a("p",[s._v("eslint")]),s._v(" "),a("ul",[a("li",[s._v("自带解释器支持支 ECMAScript 语法\n"),a("ul",[a("li",[s._v("plugin 推荐\n"),a("ul",[a("li",[s._v("eslint-plugin-react react 规则")]),s._v(" "),a("li",[s._v("eslint-plugin-babel 允许 ESLint 在由 Babel 转换的源代码上运行")]),s._v(" "),a("li",[s._v("eslint-plugin-import 支持 ECMAScript 2015(ES6) 和更高版本的导入/导出的路径&导出名称校验")]),s._v(" "),a("li",[s._v("eslint-plugin-jsx-a11y 用于 JSX 元素可访问性规则的静态 AST 检查器")]),s._v(" "),a("li",[s._v("eslint-plugin-react-hooks 强制执行 Hooks 规则")]),s._v(" "),a("li",[s._v("@typescript-eslint/eslint-plugin")])])])])]),s._v(" "),a("li",[s._v("问题"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    Error"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Error "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" loading rule "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@typescript-eslint/await-thenable'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" You have used a rule which requires parserServices to be generated"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" You must therefore provide a value "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"parserOptions.project"')]),s._v(" property "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" @typescript"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("- 指定parserOptions配置\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" checker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("getTypeArguments is not a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v("\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("- 升级 typescript>4\n")])])])])])]),s._v(" "),a("li",[a("p",[s._v("husky")]),s._v(" "),a("ul",[a("li",[s._v('"prepare": "husky install" 在 npm i 时会自动执行该命令，初始化 husky\n'),a("ul",[a("li",[s._v("利用 git 可以通过 core.hooks 指定 hooks 文件的能力，在文件中显示的注册构造")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npm set"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("script prepare "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky install"')]),s._v("\n")])])])]),s._v(" "),a("li",[s._v("添加指定的 hooks"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("    npx husky add "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("husky"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pre"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("commit "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm test"')]),s._v("\n")])])])]),s._v(" "),a("li",[s._v("pre-commit 钩子\n"),a("ul",[a("li",[s._v("执行 lint-staged ，对暂存区内容进行校验")])])]),s._v(" "),a("li",[s._v("commit-msg 钩子\n"),a("ul",[a("li",[s._v("对提交 message 的格式进行校验")]),s._v(" "),a("li",[s._v("统一团队提交规范")]),s._v(" "),a("li",[s._v("对错误 msg 格式给出提示")])])]),s._v(" "),a("li",[s._v("注意点\n"),a("ul",[a("li",[s._v("npm set-script 命令在 v 7.x 之后支持\n"),a("ul",[a("li",[s._v("升级 npm 到 v7.x")])])]),s._v(" "),a("li",[s._v("通过 husky add 添加的脚本会存在编码问题"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("SyntaxError"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Invalid or unexpected token\n")])])]),a("ul",[a("li",[s._v("手动调整 pre-commit 脚本的编码格式")]),s._v(" "),a("li",[s._v("手动创建 pre-commit 文件")])])]),s._v(" "),a("li",[s._v("需添加 prepare script 命令，注册 husky 的 hooks")]),s._v(" "),a("li",[s._v("vs old config package.json 无需添加校验规则")])])])])]),s._v(" "),a("li",[a("p",[s._v("lint-staged")]),s._v(" "),a("ul",[a("li",[s._v("增量校验、避免全量校验")]),s._v(" "),a("li",[s._v("使用方式\n"),a("ul",[a("li",[s._v("命令行方式")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("  npx mrm@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("staged\n")])])]),a("ul",[a("li",[s._v("手动配置\n"),a("ul",[a("li",[s._v("支持多种定义方式\n"),a("ul",[a("li",[s._v("package.json")]),s._v(" "),a("li",[s._v(".lintstagedrc")])])])])]),s._v(" "),a("li",[s._v("lint 解析流程\n"),a("ul",[a("li",[s._v("自动解析 git root，无需配置")]),s._v(" "),a("li",[s._v("选择存在于项目目录中的暂存文件")]),s._v(" "),a("li",[s._v("使用指定的 glob 模式过滤它们")]),s._v(" "),a("li",[s._v("将绝对路径作为参数传递给 linter")])])]),s._v(" "),a("li",[s._v("with husky\n"),a("ul",[a("li",[s._v("在 husky 的 pre-commit hooks 执行 npx --no-install lint-staged")]),s._v(" "),a("li",[s._v("配置 lint-staged"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 方式"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app/**/*.{ts,tsx}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --quiet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app/**/*.scss"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --syntax scss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --syntax scss --fix"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),s._v("vs"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" 方式"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app/**/*.{ts,tsx}"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run lint:ts"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app/**/*.scss"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --syntax scss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --syntax scss --fix"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])])])])]),s._v(" "),a("li",[s._v("注意点\n"),a("ul",[a("li",[s._v("方式 1：lint-staged 可以对过滤的文件执行 eslint 命令")]),s._v(" "),a("li",[s._v("方式 2：不能 get 到暂存区的文件，是全量的 lint")]),s._v(" "),a("li",[s._v("v10 版本之后不再需要手动 git add 将修复的内容添加到暂存区，会自动执行")])])])])])])]),s._v(" "),a("li",[a("p",[s._v("commit msg")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("@commitlint/cli：检测提交消息")])]),s._v(" "),a("li",[a("p",[s._v("msg 格式校验方案")]),s._v(" "),a("ul",[a("li",[s._v("commitlint-config-gitmoji：需要手动添加 JSON 数据")]),s._v(" "),a("li",[s._v("@commitlint/config-angular：为 angular 的提交模板")]),s._v(" "),a("li",[s._v("@commitlint/config-conventional 官方推荐")])])]),s._v(" "),a("li",[a("p",[s._v("校验失败给出 msg 消息模板")]),s._v(" "),a("ul",[a("li",[s._v("husky 的 commit-msg 钩子进行配置修改\n"),a("ul",[a("li",[s._v("shell 脚本执行失败没有退出会继续执行后续 shell")]),s._v(" "),a("li",[s._v("以非 0 代码结束，打断提交")])])]),s._v(" "),a("li",[s._v("添加失败提示模板")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v(" #"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sh\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"$(dirname "')]),s._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('")/_/husky.sh"')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" npx "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("install commitlint "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("edit $"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" then\necho "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v('e "\n\\'),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("m commit 格式错误，正确示例"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" git commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fix: 修复bug'")]),s._v(" \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("类型如下"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  feat"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("新功能 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  fix"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("修复bug \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  refactor"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("重构 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  style"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("格式 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  chore"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("构建过程或辅助工具变动 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("文档 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  test"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("测试 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("m  revert"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("回滚 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v('m\\r\n    "'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" exit "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nfi\n")])])])])])]),s._v(" "),a("li",[a("p",[s._v(".eslintrc.js")]),s._v(" "),a("ul",[a("li",[s._v("本规则，基于最新的华为前端开发规范，具体可见链接\n"),a("ul",[a("li",[a("a",{attrs:{href:"http://w3.huawei.com/ipd/tsl/#!tsl_new/standard/standard.html?standardId=43549",target:"_blank",rel:"noopener noreferrer"}},[s._v("华为 JavaScript 语言通用编程规范"),a("OutboundLink")],1)])])]),s._v(" "),a("li",[s._v("rules\n"),a("a",{attrs:{href:"https://git.huawei.com/h00508685/eslint-demo/blob/master/.eslintrc.js",target:"_blank",rel:"noopener noreferrer"}},[s._v("eslint rules 规则"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 本规则，基于最新的华为前端开发规范，具体可见链接：\n * http://w3.huawei.com/ipd/tsl/#!tsl_new/standard/standard.html?standardId=43549\n */")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    parser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@typescript-eslint/parser'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 5.8.0")]),s._v("\n    parserOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        ecmaVersion"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2015")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ECMAScript modules 模式")]),s._v("\n        sourceType"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'module'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        ecmaFeatures"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            jsx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    env"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        browser"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        node"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        commonjs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        es6"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    settings"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        react"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            version"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'detect'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'import/extensions'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.ts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'.tsx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'jsx-a11y'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@typescript-eslint'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'react-hooks'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'eslint:recommended'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:@typescript-eslint/recommended'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:@typescript-eslint/recommended-requiring-type-checking'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'plugin:react-hooks/recommended'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    overrides"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            files"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.ts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.tsx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Your TypeScript files extension")]),s._v("\n            parserOptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                project"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./tsconfig.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Specify it only for TypeScript files")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),a("li",[a("p",[s._v("第三方库(可信库)")]),s._v(" "),a("div",{staticClass:"language-JS extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("npm i typescript@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.5")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".4")]),s._v("   eslint@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.32")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" prettier@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" husky@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".4")]),s._v(" lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("staged@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.2")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".6")]),s._v(" @commitlint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cli@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.2")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" @commitlint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("conventional@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.2")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("   @typescript"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("parser@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.8")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("react@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.27")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("babel@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.3")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.25")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".3")]),s._v(" eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("jsx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a11y@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.5")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("react"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hooks@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.3")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" @typescript"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("eslint"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("plugin@"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.8")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);