(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{395:function(l,v,_){"use strict";_.r(v);var i=_(44),n=Object(i.a)({},(function(){var l=this,v=l.$createElement,_=l._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[_("h1",{attrs:{id:"循环系统"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#循环系统"}},[l._v("#")]),l._v(" 循环系统")]),l._v(" "),_("ul",[_("li",[l._v("页面循环系统\n"),_("ul",[_("li",[l._v("渲染进程的主线程\n"),_("ul",[_("li",[l._v("主线程非常繁忙，既要处理 DOM，又要计算样式，还要处理布局，同时还需要处理 JavaScript 任务以及各种输入事件")]),l._v(" "),_("li",[l._v("存在的问题\n"),_("ul",[_("li",[l._v("单一主线程只能处理预安排的任务")]),l._v(" "),_("li",[l._v("如何处理过程中的任务")])])])])]),l._v(" "),_("li",[l._v("事件+循环\n"),_("ul",[_("li",[l._v("循环\n"),_("ul",[_("li",[l._v("在线程语句最后添加了一个 for 循环语句，线程会一直循环执行")])])]),l._v(" "),_("li",[l._v("事件\n"),_("ul",[_("li",[l._v("线程运行过程中可以监听用户行为等事件，激活循环处理任务")])])]),l._v(" "),_("li",[l._v("存在的问题\n"),_("ul",[_("li",[l._v("这种监听+循环处理只能处理自身执行过程中产生的任务，如何处理其他线程、进程的问题")])])])])]),l._v(" "),_("li",[l._v("队列\n"),_("ul",[_("li",[l._v("事件+循环只能执行自身执行过程中产生的任务,需要实现一个收集任务的数据结构，而这个结构满足先进显然是队列这种数据结构的特点")]),l._v(" "),_("li",[l._v("所以无论是线程、进程还是执行过程中产生的任务都加入到任务队列中，待主线程循环执行")])])])])]),l._v(" "),_("li",[l._v("setTimeout\n"),_("ul",[_("li",[l._v("如何去执行一个指定时间触发的任务")]),l._v(" "),_("li",[l._v("在已有的任务队列是满足不了需求的，所以设计一个新的队列，该队列同样满足先进先出，只是队列存储的是一个 MAP 类型的任务，该 map 对象有时间信息，用于判断是否执行该任务")]),l._v(" "),_("li",[l._v("踩坑指南\n"),_("ul",[_("li",[l._v("tab 不是激活状态时，setTimeout 的执行时间是 1000ms")]),l._v(" "),_("li",[l._v("嵌套达到 5 层的定时器，会被浏览器认定为存在性能问题，其执行的时间间隔>=4ms，动画慎用")]),l._v(" "),_("li",[l._v("时间间隔不能大于，否则会是立即执行的效果")])])])])]),l._v(" "),_("li",[l._v("XMLRequest\n"),_("ul",[_("li",[l._v("踩坑指南\n"),_("ul",[_("li",[l._v("存在跨域问题")]),l._v(" "),_("li",[l._v("资源混合")])])])])]),l._v(" "),_("li",[l._v("微任务与宏任务\n"),_("ul",[_("li",[l._v("监听 dom 变化\n"),_("ul",[_("li",[l._v("第一版\n"),_("ul",[_("li",[l._v("实时回调")]),l._v(" "),_("li",[l._v("存在性能问题")])])]),l._v(" "),_("li",[l._v("第二版\n"),_("ul",[_("li",[l._v("批量回调")]),l._v(" "),_("li",[l._v("存在操作 dom 实时性问题")])])]),l._v(" "),_("li",[l._v("第三版\n"),_("ul",[_("li",[l._v("在宏任务队列之外在维护一个队列，即微任务队列")]),l._v(" "),_("li",[l._v("每一个宏任务都会维护一个微任务队列，在宏任务执行完推出时会检测执行微任务队列")]),l._v(" "),_("li",[l._v("即保证了实时性、又解决了性能问题")])])])])])])]),l._v(" "),_("li",[l._v("promise\n"),_("ul",[_("li",[l._v("避免回调地狱")])])]),l._v(" "),_("li",[l._v("async/await\n"),_("ul",[_("li",[l._v("写同步代码")]),l._v(" "),_("li",[l._v("genrator")])])])])])}),[],!1,null,null,null);v.default=n.exports}}]);