(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{373:function(t,s,a){"use strict";a.r(s);var n=a(44),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"reacttmp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reacttmp"}},[t._v("#")]),t._v(" reactTmp")]),t._v(" "),a("p",[t._v("React 模板工程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("webpack")])]),t._v(" "),a("li",[a("p",[t._v("react")])]),t._v(" "),a("li",[a("p",[t._v("babel")])]),t._v(" "),a("li",[a("p",[t._v("scss")])]),t._v(" "),a("li",[a("p",[t._v("prettier")])]),t._v(" "),a("li",[a("p",[t._v("eslint")]),t._v(" "),a("ul",[a("li",[t._v("自带解释器支持支 ECMAScript 语法\n"),a("ul",[a("li",[t._v("plugin 推荐\n"),a("ul",[a("li",[t._v("eslint-plugin-react react 规则")]),t._v(" "),a("li",[t._v("eslint-plugin-babel 允许 ESLint 在由 Babel 转换的源代码上运行")]),t._v(" "),a("li",[t._v("eslint-plugin-import 支持 ECMAScript 2015(ES6) 和更高版本的导入/导出的路径&导出名称校验")]),t._v(" "),a("li",[t._v("eslint-plugin-jsx-a11y 用于 JSX 元素可访问性规则的静态 AST 检查器")]),t._v(" "),a("li",[t._v("eslint-plugin-react-hooks 强制执行 Hooks 规则")]),t._v(" "),a("li",[t._v("@typescript-eslint/eslint-plugin")])])])])]),t._v(" "),a("li",[t._v("问题\n"),a("blockquote",[a("p",[t._v("Error: Error while loading rule '@typescript-eslint/await-thenable': You have used a rule which requires parserServices to be generated. You must therefore provide a value for the \"parserOptions.project\" property for @typescript-eslint/parser.\nDefinition for rule '@typescript-eslint/rule-name' was not found @typescript-eslint/rule-name")])])])])]),t._v(" "),a("li",[a("p",[t._v("husky")]),t._v(" "),a("ul",[a("li",[t._v('"prepare": "husky install" 在 npm i 时会自动执行该命令，初始化 husky')]),t._v(" "),a("li",[t._v("npm set-script 命令在 v 7.x 之后支持")]),t._v(" "),a("li",[t._v("husky add 失效"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  Usage"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  husky install "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("husky"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  husky uninstall\n  husky set"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("cmd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("ul",[a("li",[t._v("解决方式\n"),a("ul",[a("li",[t._v("升级 npm 到 v7.x")])])])])])])]),t._v(" "),a("li",[a("p",[t._v("lint-staged")]),t._v(" "),a("ul",[a("li",[t._v("增量校验、避免全量校验")]),t._v(" "),a("li",[t._v("使用方式\n"),a("ul",[a("li",[t._v("命令行方式")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  npx mrm@"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n")])])]),a("ul",[a("li",[t._v("手动配置\n"),a("ul",[a("li",[t._v("支持多种定义方式\n"),a("ul",[a("li",[t._v("package.json")])])])])]),t._v(" "),a("li",[t._v("lint 解析流程\n"),a("ul",[a("li",[t._v("自动解析 git root，无需配置")]),t._v(" "),a("li",[t._v("选择存在于项目目录中的暂存文件")]),t._v(" "),a("li",[t._v("使用指定的 glob 模式过滤它们")]),t._v(" "),a("li",[t._v("将绝对路径作为参数传递给 linter")])])]),t._v(" "),a("li",[t._v("with husky\n"),a("ul",[a("li",[t._v("husky hooks 执行 npx --no-install lint-staged")]),t._v(" "),a("li",[t._v("配置 lint-staged")])])])])])])]),t._v(" "),a("li",[a("p",[t._v("commit msg")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("@commitlint/cli：检测提交消息")]),t._v(" "),a("ul",[a("li",[t._v("问题"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" SyntaxError"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Invalid or unexpected token\n")])])]),a("ul",[a("li",[t._v("原因是编码格式问题，通过命令行添加 rc 文件时的编码格式默认是 UTF-16")]),t._v(" "),a("li",[t._v("解决方式，删除命令文件手动创建 rc 文件或者更改 rc 文件编码格式")])])])])]),t._v(" "),a("li",[a("p",[t._v("commitlint-config-gitmoji:提交消息模板")]),t._v(" "),a("ul",[a("li",[t._v("需要手动添加 JSON 数据\n"),a("ul",[a("li",[t._v("Failed to fetch gitmoji JSON, please refer to https://github.com/arvinxx/gitmoji-commit-workflow/tree/master/packages/plugin#fetch-error for help.")])])])])]),t._v(" "),a("li",[a("p",[t._v("@commitlint/config-angular：才用 angular 的提交模板‘")])]),t._v(" "),a("li",[a("p",[t._v("@commitlint/config-conventional")])]),t._v(" "),a("li",[a("p",[t._v("校验失败给出 msg 消息模板")]),t._v(" "),a("ul",[a("li",[t._v("husky 的 commit-msg 钩子进行配置修改\n"),a("ul",[a("li",[t._v("shell 脚本执行失败没有退出会继续执行后续 shell")]),t._v(" "),a("li",[t._v("以非 0 代码结束，打断提交")])])]),t._v(" "),a("li",[t._v("添加失败执行脚本\n"),a("ul",[a("li",[t._v("通过 npm 执行脚本，输出文案提示，不熟悉 shell 脚本\n"),a("ul",[a("li",[t._v("$? 可以获取执行的状态，但是当 npx 执行失败就直接退出脚本执行了，无发给而出提示文案")])])])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" #"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sh\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" npx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("install commitlint "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("edit $"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" then\necho "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v('e "\n\\'),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("31")]),t._v("m commit 格式错误，正确示例"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" git commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix: 修复bug'")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("类型如下"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  feat"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("新功能 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  fix"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("修复bug \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  refactor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("重构 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("格式 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  chore"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("构建过程或辅助工具变动 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("文档 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("测试 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("m\\r\n    \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("33")]),t._v("m  revert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("回滚 \\"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("033")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v('m\\r\n    "'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" exit "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfi\n")])])])])])]),t._v(" "),a("li",[a("p",[t._v("release")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);