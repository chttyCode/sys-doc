(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{372:function(t,v,_){"use strict";_.r(v);var e=_(44),n=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"monitor"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#monitor"}},[t._v("#")]),t._v(" monitor")]),t._v(" "),_("h1",{attrs:{id:"monitor-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#monitor-2"}},[t._v("#")]),t._v(" monitor")]),t._v(" "),_("h2",{attrs:{id:"指标分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#指标分类"}},[t._v("#")]),t._v(" 指标分类")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("稳定性(stability)")]),t._v(" "),_("ul",[_("li",[t._v("JS 错误 JS 执行错误或者 promise 异常")]),t._v(" "),_("li",[t._v("资源异常 script、link 等资源加载异常")]),t._v(" "),_("li",[t._v("接口错误 ajax 或 fetch 请求接口异常")]),t._v(" "),_("li",[t._v("白屏 页面空白")])])]),t._v(" "),_("li",[_("p",[t._v("用户体验(experience)")]),t._v(" "),_("ul",[_("li",[t._v("加载时间 各个阶段的加载时间")]),t._v(" "),_("li",[t._v("TTFB(time to first byte)(首字节时间) 是指浏览器发起第一个请求到数据返回第一个字节所消耗的时间，这个时间包含了网络请求时间、后端处理时间")]),t._v(" "),_("li",[t._v("FP(First Paint)(首次绘制) 首次绘制包括了任何用户自定义的背景绘制，它是将第一个像素点绘制到屏幕的时刻")]),t._v(" "),_("li",[t._v("FCP(First Content Paint)(首次内容绘制) 首次内容绘制是浏览器将第一个 DOM 渲染到屏幕的时间,可以是任何文本、图像、SVG 等的时间")]),t._v(" "),_("li",[t._v("FMP(First Meaningful paint)(首次有意义绘制) 首次有意义绘制是页面可用性的量度标准")]),t._v(" "),_("li",[t._v("FID(First Input Delay)(首次输入延迟) 用户首次和页面交互到页面响应交互的时间")]),t._v(" "),_("li",[t._v("卡顿 超过 50ms 的长任务")])])]),t._v(" "),_("li",[_("p",[t._v("业务(business)")]),t._v(" "),_("ul",[_("li",[t._v("PV page view 即页面浏览量或点击量")]),t._v(" "),_("li",[t._v("UV 指访问某个站点的不同 IP 地址的人数")]),t._v(" "),_("li",[t._v("页面的停留时间 用户在每一个页面的停留时间")])]),t._v(" "),_("h2",{attrs:{id:"监控方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#监控方案"}},[t._v("#")]),t._v(" 监控方案")]),t._v(" "),_("ul",[_("li",[t._v("代码埋点：以嵌入代码方式进行监控\n"),_("ul",[_("li",[t._v("优点:\n"),_("ul",[_("li",[t._v("精细")])])]),t._v(" "),_("li",[t._v("缺点：\n"),_("ul",[_("li",[t._v("量大")])])])])])])]),t._v(" "),_("li",[_("p",[t._v("无痕埋点：监控某一类全局事件")]),t._v(" "),_("ul",[_("li",[t._v("优点\n"),_("ul",[_("li",[t._v("全")]),t._v(" "),_("li",[t._v("无侵入")])])]),t._v(" "),_("li",[t._v("缺点\n"),_("ul",[_("li",[t._v("数据量大")])])])])])]),t._v(" "),_("h2",{attrs:{id:"监控错误"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#监控错误"}},[t._v("#")]),t._v(" 监控错误")]),t._v(" "),_("ul",[_("li",[t._v("封装请求方法\n"),_("ul",[_("li",[t._v("tracker")])])]),t._v(" "),_("li",[t._v("错误分类\n"),_("ul",[_("li",[t._v("js 错误\n"),_("ul",[_("li",[t._v("监控 error 事件")]),t._v(" "),_("li",[t._v("定义上报格式")])]),t._v(" "),_("div",{staticClass:"language-js extra-class"},[_("pre",{pre:!0,attrs:{class:"language-js"}},[_("code",[_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      kind"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stability'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//监控指标的大类")]),t._v("\n      type"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//小类型 这是一个错误")]),t._v("\n      errorType"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsError'")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//JS执行错误")]),t._v("\n      message"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" event"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//报错信息")]),t._v("\n      filename"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" event"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("filename"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//哪个文件报错了")]),t._v("\n      position"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token template-string"}},[_("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),_("span",{pre:!0,attrs:{class:"token interpolation"}},[_("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineno"),_("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),_("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),_("span",{pre:!0,attrs:{class:"token interpolation"}},[_("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("event"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("colno"),_("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),_("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      stack"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLines")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      selector"),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" lastEvent "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSelector")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lastEvent"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),_("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//代表最后一个操作的元素")]),t._v("\n"),_("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),_("ul",[_("li",[t._v("获取最后一个交互对象\n"),_("ul",[_("li",[t._v("在捕获阶段记录")]),t._v(" "),_("li",[t._v("阻止默认事件")])])]),t._v(" "),_("li",[t._v("解析 stack\n"),_("ul",[_("li",[t._v("格式化输出")]),t._v(" "),_("li",[t._v("? 如何做好与源码的映射关系")])])]),t._v(" "),_("li",[t._v("脚本错误\n"),_("ul",[_("li",[t._v("脚本加载执行错误\n"),_("ul",[_("li",[t._v("属于 js 执行错误")])])]),t._v(" "),_("li",[t._v("脚本 404\n"),_("ul",[_("li",[t._v("资源加载错误，必须在捕获阶段监听 error 事件")])])])])]),t._v(" "),_("li",[t._v("selector: 定位元素\n"),_("ul",[_("li",[t._v("资源错误")]),t._v(" "),_("li",[t._v("执行错误")])])])])]),t._v(" "),_("li",[t._v("promise 错误")])])]),t._v(" "),_("li",[t._v("资源异常\n"),_("ul",[_("li",[t._v("监听 error")])])]),t._v(" "),_("li",[t._v("接口错误")]),t._v(" "),_("li",[t._v("白屏\n"),_("ul",[_("li",[t._v("类型\n"),_("ul",[_("li",[t._v("首页白屏")]),t._v(" "),_("li",[t._v("代码崩溃白屏")])])]),t._v(" "),_("li",[t._v("白屏监控方案\n"),_("ul",[_("li",[t._v("监控时机\n"),_("ul",[_("li",[t._v("onerror")]),t._v(" "),_("li",[t._v("mutation observer api")]),t._v(" "),_("li",[t._v("轮训")])])]),t._v(" "),_("li",[t._v("DOM 检测\n"),_("ul",[_("li",[t._v("elementsFromPoint")]),t._v(" "),_("li",[t._v("图像识别")]),t._v(" "),_("li",[t._v("基于 DOM 数据算法识别")])])])])]),t._v(" "),_("li",[t._v("采用基于 elementsFromPoint 的方案\n"),_("ul",[_("li",[t._v("注册监听\n"),_("ul",[_("li",[t._v("其中 state 值包含下面三个值\n"),_("ul",[_("li",[t._v("loading: 表示文档正在加载中。")]),t._v(" "),_("li",[t._v("interactive: 表示文档已完成加载，文档已被解析，但图像、样式表和框架等子资源仍在加载。")]),t._v(" "),_("li",[t._v("complete: 表示文档和所有子资源已完成加载。如果状态变成这个，表明 load 事件即将触发")]),t._v(" "),_("li",[t._v("https://developer.mozilla.org/zh-CN/docs/Web/API/Document/readystatechange_event")]),t._v(" "),_("li",[t._v("https://www.zhangxinxu.com/wordpress/2019/10/document-readystate/")])])])])]),t._v(" "),_("li",[t._v("采点\n"),_("ul",[_("li",[t._v("document.elementsFromPoint()，该函数返还在特定坐标点下的 HTML 元素数组。")]),t._v(" "),_("li",[t._v("采用十字交叉轴上的 18 个点")])])])])])])])]),t._v(" "),_("h2",{attrs:{id:"体验"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#体验"}},[t._v("#")]),t._v(" 体验")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("加载时间")])]),t._v(" "),_("li",[_("p",[t._v("性能指标")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("指标")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("描述")]),t._v(" "),_("th",[t._v("备注")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("FP")]),t._v(" "),_("td",[t._v("First Paint(首次绘制)")]),t._v(" "),_("td",[t._v("包括了任何用户自定义的背景绘制，它是首先将像素绘制到屏幕的时刻")])]),t._v(" "),_("tr",[_("td",[t._v("FCP")]),t._v(" "),_("td",[t._v("First Content Paint(首次内容绘制)")]),t._v(" "),_("td",[t._v("是浏览器将第一个 DOM 渲染到屏幕的时间,可能是文本、图像、SVG 等,这其实就是白屏时间")])]),t._v(" "),_("tr",[_("td",[t._v("FMP")]),t._v(" "),_("td",[t._v("First Meaningful Paint(首次有意义绘制)")]),t._v(" "),_("td",[t._v("页面有意义的内容渲染的时间")])]),t._v(" "),_("tr",[_("td",[t._v("LCP")]),t._v(" "),_("td",[t._v("(Largest Contentful Paint)(最大内容渲染)")]),t._v(" "),_("td",[t._v("代表在 viewport 中最大的页面元素加载的时间")])]),t._v(" "),_("tr",[_("td",[t._v("DCL")]),t._v(" "),_("td",[t._v("(DomContentLoaded)(DOM 加载完成)")]),t._v(" "),_("td",[t._v("当 HTML 文档被完全加载和解析完成之后,DOMContentLoaded 事件被触发，无需等待样式表、图像和子框架的完成加载")])]),t._v(" "),_("tr",[_("td"),t._v(" "),_("td",[t._v("(onLoad)")]),t._v(" "),_("td",[t._v("当依赖的资源全部加载完毕之后才会触发")])]),t._v(" "),_("tr",[_("td",[t._v("TTI")]),t._v(" "),_("td",[t._v("(Time to Interactive) 可交互时间")]),t._v(" "),_("td",[t._v("用于标记应用已进行视觉渲染并能可靠响应用户输入的时间点")])]),t._v(" "),_("tr",[_("td",[t._v("FID")]),t._v(" "),_("td",[t._v("First Input Delay(首次输入延迟)")]),t._v(" "),_("td",[t._v("用户首次和页面交互(单击链接，点击按钮等)到页面响应交互的时间")])])])])]),t._v(" "),_("li",[_("p",[t._v("PerformanceObserver: 使用观察者模式进行性能指标统计")])]),t._v(" "),_("li",[_("p",[t._v("指定检测 entry types 集合，当检测有变化时回调函数会被调用")]),t._v(" "),_("ul",[_("li",[t._v("element:FMP\n"),_("ul",[_("li",[t._v("检测特性有属性 elementtiming 的元素")]),t._v(" "),_("li",[t._v("可以自定义页面有意义的元素，进行统计")])])]),t._v(" "),_("li",[t._v("largest-contentful-paint "),_("a",{attrs:{href:"https://segmentfault.com/a/1190000039842975",target:"_blank",rel:"noopener noreferrer"}},[t._v("最大的内容绘制"),_("OutboundLink")],1)]),t._v(" "),_("li",[t._v("first-input:\n"),_("ul",[_("li",[t._v("浏览器收到 click 事件到主线程得空处理它之间存在延迟。"),_("a",{attrs:{href:"https://segmentfault.com/a/1190000039843026?utm_source=tag-newest",target:"_blank",rel:"noopener noreferrer"}},[t._v("首次输入延迟"),_("OutboundLink")],1)])])])])]),t._v(" "),_("li",[_("p",[t._v("加载时间统计")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("含义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("navigationStart")]),t._v(" "),_("td",[t._v("初始化页面，在同一个浏览器上下文中前一个页面 unload 的时间戳，如果没有前一个页面的 unload,则与 fetchStart 值相等")])]),t._v(" "),_("tr",[_("td",[t._v("redirectStart")]),t._v(" "),_("td",[t._v("第一个 HTTP 重定向发生的时间,有跳转且是同域的重定向,否则为 0")])]),t._v(" "),_("tr",[_("td",[t._v("redirectEnd")]),t._v(" "),_("td",[t._v("最后一个重定向完成时的时间,否则为 0")])]),t._v(" "),_("tr",[_("td",[t._v("fetchStart")]),t._v(" "),_("td",[t._v("浏览器准备好使用 http 请求获取文档的时间,这发生在检查缓存之前")])]),t._v(" "),_("tr",[_("td",[t._v("domainLookupStart")]),t._v(" "),_("td",[t._v("DNS 域名开始查询的时间,如果有本地的缓存或 keep-alive 则时间为 0")])]),t._v(" "),_("tr",[_("td",[t._v("domainLookupEnd")]),t._v(" "),_("td",[t._v("DNS 域名结束查询的时间")])]),t._v(" "),_("tr",[_("td",[t._v("connectStart")]),t._v(" "),_("td",[t._v("TCP 开始建立连接的时间,如果是持久连接,则与 fetchStart 值相等")])]),t._v(" "),_("tr",[_("td",[t._v("secureConnectionStart")]),t._v(" "),_("td",[t._v("https 连接开始的时间,如果不是安全连接则为 0")])]),t._v(" "),_("tr",[_("td",[t._v("connectEnd")]),t._v(" "),_("td",[t._v("TCP 完成握手的时间，如果是持久连接则与 fetchStart 值相等")])]),t._v(" "),_("tr",[_("td",[t._v("requestStart")]),t._v(" "),_("td",[t._v("HTTP 请求读取真实文档开始的时间,包括从本地缓存读取")])]),t._v(" "),_("tr",[_("td",[t._v("requestEnd")]),t._v(" "),_("td",[t._v("HTTP 请求读取真实文档结束的时间,包括从本地缓存读取")])]),t._v(" "),_("tr",[_("td",[t._v("responseStart")]),t._v(" "),_("td",[t._v("返回浏览器从服务器收到（或从本地缓存读取）第一个字节时的 Unix 毫秒时间戳")])]),t._v(" "),_("tr",[_("td",[t._v("responseEnd")]),t._v(" "),_("td",[t._v("返回浏览器从服务器收到（或从本地缓存读取，或从本地资源读取）最后一个字节时的 Unix 毫秒时间戳")])]),t._v(" "),_("tr",[_("td",[t._v("unloadEventStart")]),t._v(" "),_("td",[t._v("前一个页面的 unload 的时间戳 如果没有则为 0")])]),t._v(" "),_("tr",[_("td",[t._v("unloadEventEnd")]),t._v(" "),_("td",[t._v("与 unloadEventStart 相对应，返回的是 unload 函数执行完成的时间戳")])]),t._v(" "),_("tr",[_("td",[t._v("domLoading")]),t._v(" "),_("td",[t._v("返回当前网页 DOM 结构开始解析时的时间戳,此时 document.readyState 变成 loading,并将抛出 readyStateChange 事件")])]),t._v(" "),_("tr",[_("td",[t._v("domInteractive")]),t._v(" "),_("td",[t._v("返回当前网页 DOM 结构结束解析、开始加载内嵌资源时时间戳,document.readyState 变成 interactive，并将抛出 readyStateChange 事件(注意只是 DOM 树解析完成,这时候并没有开始加载网页内的资源)")])]),t._v(" "),_("tr",[_("td",[t._v("domContentLoadedEventStart")]),t._v(" "),_("td",[t._v("网页 domContentLoaded 事件发生的时间")])]),t._v(" "),_("tr",[_("td",[t._v("domContentLoadedEventEnd")]),t._v(" "),_("td",[t._v("网页 domContentLoaded 事件脚本执行完毕的时间,domReady 的时间")])]),t._v(" "),_("tr",[_("td",[t._v("domComplete")]),t._v(" "),_("td",[t._v("DOM 树解析完成,且资源也准备就绪的时间,document.readyState 变成 complete.并将抛出 readystatechange 事件")])]),t._v(" "),_("tr",[_("td",[t._v("loadEventStart")]),t._v(" "),_("td",[t._v("load 事件发送给文档，也即 load 回调函数开始执行的时间")])]),t._v(" "),_("tr",[_("td",[t._v("loadEventEnd")]),t._v(" "),_("td",[t._v("load 回调函数执行完成的时间")])])])])]),t._v(" "),_("li",[_("p",[t._v("阶段计算")])])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("字段")]),t._v(" "),_("th",[t._v("描述")]),t._v(" "),_("th",[t._v("计算方式")]),t._v(" "),_("th",[t._v("意义")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("unload")]),t._v(" "),_("td",[t._v("前一个页面卸载耗时")]),t._v(" "),_("td",[t._v("unloadEventEnd – unloadEventStart")]),t._v(" "),_("td",[t._v("-")])]),t._v(" "),_("tr",[_("td",[t._v("redirect")]),t._v(" "),_("td",[t._v("重定向耗时")]),t._v(" "),_("td",[t._v("redirectEnd – redirectStart 重定向的时间")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("appCache")]),t._v(" "),_("td",[t._v("缓存耗时")]),t._v(" "),_("td",[t._v("domainLookupStart – fetchStart")]),t._v(" "),_("td",[t._v("读取缓存的时间")])]),t._v(" "),_("tr",[_("td",[t._v("dns")]),t._v(" "),_("td",[t._v("DNS 解析耗时")]),t._v(" "),_("td",[t._v("domainLookupEnd – domainLookupStart")]),t._v(" "),_("td",[t._v("可观察域名解析服务是否正常")])]),t._v(" "),_("tr",[_("td",[t._v("tcp")]),t._v(" "),_("td",[t._v("TCP 连接耗时")]),t._v(" "),_("td",[t._v("connectEnd – connectStart")]),t._v(" "),_("td",[t._v("建立连接的耗时")])]),t._v(" "),_("tr",[_("td",[t._v("ssl")]),t._v(" "),_("td",[t._v("SSL 安全连接耗时")]),t._v(" "),_("td",[t._v("connectEnd – secureConnectionStart")]),t._v(" "),_("td",[t._v("反映数据安全连接建立耗时")])]),t._v(" "),_("tr",[_("td",[t._v("ttfb")]),t._v(" "),_("td",[t._v("Time to First Byte(TTFB)网络请求耗时")]),t._v(" "),_("td",[t._v("responseStart – requestStart")]),t._v(" "),_("td",[t._v("TTFB 是发出页面请求到接收到应答数据第一个字节所花费的毫秒数")])]),t._v(" "),_("tr",[_("td",[t._v("response")]),t._v(" "),_("td",[t._v("响应数据传输耗时")]),t._v(" "),_("td",[t._v("responseEnd – responseStart")]),t._v(" "),_("td",[t._v("观察网络是否正常")])]),t._v(" "),_("tr",[_("td",[t._v("dom")]),t._v(" "),_("td",[t._v("DOM 解析耗时")]),t._v(" "),_("td",[t._v("domInteractive – responseEnd")]),t._v(" "),_("td",[t._v("观察 DOM 结构是否合理，是否有 JS 阻塞页面解析")])]),t._v(" "),_("tr",[_("td",[t._v("dcl")]),t._v(" "),_("td",[t._v("DOMContentLoaded 事件耗时")]),t._v(" "),_("td",[t._v("domContentLoadedEventEnd – domContentLoadedEventStart")]),t._v(" "),_("td",[t._v("当 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，无需等待样式表、图像和子框架的完成加载")])]),t._v(" "),_("tr",[_("td",[t._v("resources")]),t._v(" "),_("td",[t._v("资源加载耗时")]),t._v(" "),_("td",[t._v("domComplete – domContentLoadedEventEnd")]),t._v(" "),_("td",[t._v("可观察文档流是否过大")])]),t._v(" "),_("tr",[_("td",[t._v("domReady")]),t._v(" "),_("td",[t._v("DOM 阶段渲染耗时")]),t._v(" "),_("td",[t._v("domContentLoadedEventEnd – fetchStart")]),t._v(" "),_("td",[t._v("DOM 树和页面资源加载完成时间，会触发 domContentLoaded 事件")])]),t._v(" "),_("tr",[_("td",[t._v("首次渲染耗时")]),t._v(" "),_("td",[t._v("首次渲染耗时")]),t._v(" "),_("td",[t._v("responseEnd-fetchStart")]),t._v(" "),_("td",[t._v("加载文档到看到第一帧非空图像的时间，也叫白屏时间")])]),t._v(" "),_("tr",[_("td",[t._v("首次可交互时间")]),t._v(" "),_("td",[t._v("首次可交互时间")]),t._v(" "),_("td",[t._v("domInteractive-fetchStart")]),t._v(" "),_("td",[t._v("DOM 树解析完成时间，此时 document.readyState 为 interactive")])]),t._v(" "),_("tr",[_("td",[t._v("首包时间耗时")]),t._v(" "),_("td",[t._v("首包时间")]),t._v(" "),_("td",[t._v("responseStart-domainLookupStart")]),t._v(" "),_("td",[t._v("DNS 解析到响应返回给浏览器第一个字节的时间")])]),t._v(" "),_("tr",[_("td",[t._v("页面完全加载时间")]),t._v(" "),_("td",[t._v("页面完全加载时间")]),t._v(" "),_("td",[t._v("loadEventStart - fetchStart")]),t._v(" "),_("td",[t._v("-")])]),t._v(" "),_("tr",[_("td",[t._v("onLoad")]),t._v(" "),_("td",[t._v("onLoad 事件耗时")]),t._v(" "),_("td",[t._v("loadEventEnd – loadEventStart")]),t._v(" "),_("td")])])])]),t._v(" "),_("li",[_("p",[t._v("卡顿")]),t._v(" "),_("ul",[_("li",[t._v('PerformanceObserver entryTypes: ["longtask"]')])])])]),t._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),_("blockquote",[_("p",[t._v("https://mp.weixin.qq.com/s/YiKRY_LDURY0uONtEhkUfg")])]),t._v(" "),_("blockquote",[_("p",[t._v("https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&mid=2651227494&idx=1&sn=444001447adef73ae8066ddfd1a01ddc&chksm=bd495ce28a3ed5f4f593dcacc315cbce554330230b8a56bcd5c980dcf4eb76cb5c4f3eaa8f12&scene=21#wechat_redirect")])]),t._v(" "),_("blockquote",[_("p",[t._v("https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&mid=2651225487&idx=1&sn=060f827234606cd3e9a3771d67af4d0f&chksm=bd49a40b8a3e2d1dc9ed064543e236312e99a63e50987ae143012967366a1f691eff67a8ae1b&scene=21#wechat_redirect")])])])}),[],!1,null,null,null);v.default=n.exports}}]);