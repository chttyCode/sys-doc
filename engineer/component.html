<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码风格统一 | sys-doc</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/sys-doc/assets/css/0.styles.f2c13968.css" as="style"><link rel="preload" href="/sys-doc/assets/js/app.222175ed.js" as="script"><link rel="preload" href="/sys-doc/assets/js/2.01d9652a.js" as="script"><link rel="preload" href="/sys-doc/assets/js/15.65e7ab38.js" as="script"><link rel="prefetch" href="/sys-doc/assets/js/10.331427a7.js"><link rel="prefetch" href="/sys-doc/assets/js/11.89b28dfb.js"><link rel="prefetch" href="/sys-doc/assets/js/12.7136e253.js"><link rel="prefetch" href="/sys-doc/assets/js/13.a1feb60a.js"><link rel="prefetch" href="/sys-doc/assets/js/14.b0c7cf4d.js"><link rel="prefetch" href="/sys-doc/assets/js/16.edc12257.js"><link rel="prefetch" href="/sys-doc/assets/js/17.13d64156.js"><link rel="prefetch" href="/sys-doc/assets/js/18.61d35156.js"><link rel="prefetch" href="/sys-doc/assets/js/19.05bd98c3.js"><link rel="prefetch" href="/sys-doc/assets/js/20.a0cf136a.js"><link rel="prefetch" href="/sys-doc/assets/js/21.03ded64d.js"><link rel="prefetch" href="/sys-doc/assets/js/22.48cb9c16.js"><link rel="prefetch" href="/sys-doc/assets/js/23.60baf3ac.js"><link rel="prefetch" href="/sys-doc/assets/js/24.64e64d70.js"><link rel="prefetch" href="/sys-doc/assets/js/25.e55672d9.js"><link rel="prefetch" href="/sys-doc/assets/js/26.e11de8a1.js"><link rel="prefetch" href="/sys-doc/assets/js/27.e81e4d27.js"><link rel="prefetch" href="/sys-doc/assets/js/28.d0c23cdc.js"><link rel="prefetch" href="/sys-doc/assets/js/29.ec360f74.js"><link rel="prefetch" href="/sys-doc/assets/js/3.2b33e907.js"><link rel="prefetch" href="/sys-doc/assets/js/30.18bddb07.js"><link rel="prefetch" href="/sys-doc/assets/js/31.bfafc828.js"><link rel="prefetch" href="/sys-doc/assets/js/32.e314141f.js"><link rel="prefetch" href="/sys-doc/assets/js/33.df325e04.js"><link rel="prefetch" href="/sys-doc/assets/js/34.ae0d0f3f.js"><link rel="prefetch" href="/sys-doc/assets/js/35.416394de.js"><link rel="prefetch" href="/sys-doc/assets/js/36.1c4bda76.js"><link rel="prefetch" href="/sys-doc/assets/js/37.dfbffb38.js"><link rel="prefetch" href="/sys-doc/assets/js/38.cf3be4f4.js"><link rel="prefetch" href="/sys-doc/assets/js/39.5e3f13bc.js"><link rel="prefetch" href="/sys-doc/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/sys-doc/assets/js/40.4c6aa0e8.js"><link rel="prefetch" href="/sys-doc/assets/js/41.54caa505.js"><link rel="prefetch" href="/sys-doc/assets/js/42.ec5daa0a.js"><link rel="prefetch" href="/sys-doc/assets/js/43.d9177c9c.js"><link rel="prefetch" href="/sys-doc/assets/js/44.7813468c.js"><link rel="prefetch" href="/sys-doc/assets/js/45.da3aa879.js"><link rel="prefetch" href="/sys-doc/assets/js/46.f7391b1f.js"><link rel="prefetch" href="/sys-doc/assets/js/47.34b311fa.js"><link rel="prefetch" href="/sys-doc/assets/js/48.2daa397a.js"><link rel="prefetch" href="/sys-doc/assets/js/49.ca119df1.js"><link rel="prefetch" href="/sys-doc/assets/js/5.75a3592b.js"><link rel="prefetch" href="/sys-doc/assets/js/50.20021ec4.js"><link rel="prefetch" href="/sys-doc/assets/js/51.950d1096.js"><link rel="prefetch" href="/sys-doc/assets/js/52.c8cd6177.js"><link rel="prefetch" href="/sys-doc/assets/js/53.4e0d3327.js"><link rel="prefetch" href="/sys-doc/assets/js/54.56b9ae8f.js"><link rel="prefetch" href="/sys-doc/assets/js/55.11dd75dc.js"><link rel="prefetch" href="/sys-doc/assets/js/56.b553b55a.js"><link rel="prefetch" href="/sys-doc/assets/js/57.4db20d62.js"><link rel="prefetch" href="/sys-doc/assets/js/58.3dd94c7f.js"><link rel="prefetch" href="/sys-doc/assets/js/59.b7ead4d5.js"><link rel="prefetch" href="/sys-doc/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/sys-doc/assets/js/60.3344ae92.js"><link rel="prefetch" href="/sys-doc/assets/js/61.003a1336.js"><link rel="prefetch" href="/sys-doc/assets/js/62.8ae1800f.js"><link rel="prefetch" href="/sys-doc/assets/js/63.d63530cf.js"><link rel="prefetch" href="/sys-doc/assets/js/64.c77d7e5f.js"><link rel="prefetch" href="/sys-doc/assets/js/65.256078fa.js"><link rel="prefetch" href="/sys-doc/assets/js/66.25272fb5.js"><link rel="prefetch" href="/sys-doc/assets/js/67.7c75e618.js"><link rel="prefetch" href="/sys-doc/assets/js/68.f7255783.js"><link rel="prefetch" href="/sys-doc/assets/js/69.46d3c502.js"><link rel="prefetch" href="/sys-doc/assets/js/7.e59ee139.js"><link rel="prefetch" href="/sys-doc/assets/js/70.7be8023c.js"><link rel="prefetch" href="/sys-doc/assets/js/71.17aadbbd.js"><link rel="prefetch" href="/sys-doc/assets/js/72.8d4415e1.js"><link rel="prefetch" href="/sys-doc/assets/js/73.a1d9b05d.js"><link rel="prefetch" href="/sys-doc/assets/js/74.59b5b15a.js"><link rel="prefetch" href="/sys-doc/assets/js/75.baf5b699.js"><link rel="prefetch" href="/sys-doc/assets/js/76.2a3eb9c5.js"><link rel="prefetch" href="/sys-doc/assets/js/77.2f0d8a6e.js"><link rel="prefetch" href="/sys-doc/assets/js/78.e03a28df.js"><link rel="prefetch" href="/sys-doc/assets/js/8.9202dc84.js"><link rel="prefetch" href="/sys-doc/assets/js/9.8f775d5a.js">
    <link rel="stylesheet" href="/sys-doc/assets/css/0.styles.f2c13968.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sys-doc/" class="home-link router-link-active"><img src="/sys-doc/imgs/logo.jpeg" alt="sys-doc" class="logo"> <span class="site-name can-hide">sys-doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link router-link-active">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link router-link-active">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/sys-doc/engineer/" aria-current="page" class="sidebar-link">工程</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>组件库开发</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sys-doc/engineer/component.html" aria-current="page" class="active sidebar-link">代码风格统一</a></li><li><a href="/sys-doc/engineer/component-1.html" class="sidebar-link">模版工程搭建</a></li><li><a href="/sys-doc/engineer/component-2.html" class="sidebar-link">组件开发流程</a></li><li><a href="/sys-doc/engineer/component-3.html" class="sidebar-link">组件文档生成</a></li><li><a href="/sys-doc/engineer/component-4.html" class="sidebar-link">组件发布</a></li><li><a href="/sys-doc/engineer/component-5.html" class="sidebar-link">CI/CD</a></li><li><a href="/sys-doc/engineer/component-6.html" class="sidebar-link">脚手架搭建</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="代码风格统一"><a href="#代码风格统一" class="header-anchor">#</a> 代码风格统一</h1> <ul><li><p>prettier</p> <div class="language-js extra-class"><pre class="language-js"><code>    npm i prettier <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div></li> <li><p>eslint</p> <ul><li>自带解释器支持支 ECMAScript 语法
<ul><li>plugin 推荐
<ul><li>eslint-plugin-react react 规则</li> <li>eslint-plugin-babel 允许 ESLint 在由 Babel 转换的源代码上运行</li> <li>eslint-plugin-import 支持 ECMAScript 2015(ES6) 和更高版本的导入/导出的路径&amp;导出名称校验</li> <li>eslint-plugin-jsx-a11y 用于 JSX 元素可访问性规则的静态 AST 检查器</li> <li>eslint-plugin-react-hooks 强制执行 Hooks 规则</li> <li>@typescript-eslint/eslint-plugin</li></ul></li></ul></li> <li>问题<div class="language-js extra-class"><pre class="language-js"><code>    Error<span class="token operator">:</span> Error <span class="token keyword">while</span> loading rule <span class="token string">'@typescript-eslint/await-thenable'</span><span class="token operator">:</span> You have used a rule which requires parserServices to be generated<span class="token punctuation">.</span> You must therefore provide a value <span class="token keyword">for</span> the <span class="token string">&quot;parserOptions.project&quot;</span> property <span class="token keyword">for</span> @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>parser<span class="token punctuation">.</span>
</code></pre></div><div class="language- extra-class"><pre><code>- 指定parserOptions配置
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code> checker<span class="token punctuation">.</span>getTypeArguments is not a <span class="token keyword">function</span>
</code></pre></div><div class="language- extra-class"><pre><code>- 升级 typescript&gt;4
</code></pre></div></li></ul></li> <li><p>husky</p> <ul><li>&quot;prepare&quot;: &quot;husky install&quot; 在 npm i 时会自动执行该命令，初始化 husky
<ul><li>利用 git 可以通过 core.hooks 指定 hooks 文件的能力，在文件中显示的注册构造</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    npm set<span class="token operator">-</span>script prepare <span class="token string">&quot;husky install&quot;</span>
</code></pre></div></li> <li>添加指定的 hooks<div class="language-js extra-class"><pre class="language-js"><code>    npx husky add <span class="token punctuation">.</span>husky<span class="token operator">/</span>pre<span class="token operator">-</span>commit <span class="token string">&quot;npm test&quot;</span>
</code></pre></div></li> <li>pre-commit 钩子
<ul><li>执行 lint-staged ，对暂存区内容进行校验</li></ul></li> <li>commit-msg 钩子
<ul><li>对提交 message 的格式进行校验</li> <li>统一团队提交规范</li> <li>对错误 msg 格式给出提示</li></ul></li> <li>注意点
<ul><li>npm set-script 命令在 v 7.x 之后支持
<ul><li>升级 npm 到 v7.x</li></ul></li> <li>通过 husky add 添加的脚本会存在编码问题<div class="language-js extra-class"><pre class="language-js"><code>SyntaxError<span class="token operator">:</span> Invalid or unexpected token
</code></pre></div><ul><li>手动调整 pre-commit 脚本的编码格式</li> <li>手动创建 pre-commit 文件</li></ul></li> <li>需添加 prepare script 命令，注册 husky 的 hooks</li> <li>vs old config package.json 无需添加校验规则</li></ul></li></ul></li> <li><p>lint-staged</p> <ul><li>增量校验、避免全量校验</li> <li>使用方式
<ul><li>命令行方式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>  npx mrm@<span class="token number">2</span> lint<span class="token operator">-</span>staged
</code></pre></div><ul><li>手动配置
<ul><li>支持多种定义方式
<ul><li>package.json</li> <li>.lintstagedrc</li></ul></li></ul></li> <li>lint 解析流程
<ul><li>自动解析 git root，无需配置</li> <li>选择存在于项目目录中的暂存文件</li> <li>使用指定的 glob 模式过滤它们</li> <li>将绝对路径作为参数传递给 linter</li></ul></li> <li>with husky
<ul><li>在 husky 的 pre-commit hooks 执行 npx --no-install lint-staged</li> <li>配置 lint-staged<div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 方式<span class="token number">1</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token string">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;app/**/*.{ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;eslint --quiet&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;prettier --write&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;app/**/*.scss&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;stylelint --syntax scss&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;stylelint --syntax scss --fix&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div>vs<div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 方式<span class="token number">2</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token string">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;app/**/*.{ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;npm run lint:ts&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;prettier --write&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;app/**/*.scss&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;stylelint --syntax scss&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;stylelint --syntax scss --fix&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div></li></ul></li> <li>注意点
<ul><li>方式 1：lint-staged 可以对过滤的文件执行 eslint 命令</li> <li>方式 2：不能 get 到暂存区的文件，是全量的 lint</li> <li>v10 版本之后不再需要手动 git add 将修复的内容添加到暂存区，会自动执行</li></ul></li></ul></li></ul></li> <li><p>commit msg</p> <ul><li><p>@commitlint/cli：检测提交消息</p></li> <li><p>msg 格式校验方案</p> <ul><li>commitlint-config-gitmoji：需要手动添加 JSON 数据</li> <li>@commitlint/config-angular：为 angular 的提交模板</li> <li>@commitlint/config-conventional 官方推荐</li></ul></li> <li><p>校验失败给出 msg 消息模板</p> <ul><li>husky 的 commit-msg 钩子进行配置修改
<ul><li>shell 脚本执行失败没有退出会继续执行后续 shell</li> <li>以非 0 代码结束，打断提交</li></ul></li> <li>添加失败提示模板</li></ul> <div class="language-js extra-class"><pre class="language-js"><code> #<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh
<span class="token punctuation">.</span> <span class="token string">&quot;$(dirname &quot;</span>$<span class="token number">0</span><span class="token string">&quot;)/_/husky.sh&quot;</span>

<span class="token keyword">if</span> <span class="token operator">!</span> npx <span class="token operator">--</span>no<span class="token operator">-</span>install commitlint <span class="token operator">--</span>edit $<span class="token number">1</span> <span class="token punctuation">;</span> then
echo <span class="token operator">-</span>e &quot;
\<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">31</span>m commit 格式错误，正确示例<span class="token operator">:</span> git commit <span class="token operator">-</span>m <span class="token string">'fix: 修复bug'</span> \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  <span class="token function">type</span><span class="token punctuation">(</span>类型如下<span class="token punctuation">)</span> \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  feat<span class="token operator">:</span>新功能 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  fix<span class="token operator">:</span>修复bug \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  refactor<span class="token operator">:</span>重构 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  style<span class="token operator">:</span>格式 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  chore<span class="token operator">:</span>构建过程或辅助工具变动 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  docs<span class="token operator">:</span>文档 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  test<span class="token operator">:</span>测试 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">33</span>m  revert<span class="token operator">:</span>回滚 \<span class="token number">033</span><span class="token punctuation">[</span><span class="token number">0</span>m\r
    &quot;<span class="token punctuation">;</span> exit <span class="token number">1</span><span class="token punctuation">;</span>
fi
</code></pre></div></li></ul></li> <li><p>.eslintrc.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
parser<span class="token operator">:</span> <span class="token string">'@typescript-eslint/parser'</span><span class="token punctuation">,</span> <span class="token comment">// 5.8.0</span>
parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
ecmaVersion<span class="token operator">:</span> <span class="token number">2015</span><span class="token punctuation">,</span>
<span class="token comment">// ECMAScript modules 模式</span>
sourceType<span class="token operator">:</span> <span class="token string">'module'</span><span class="token punctuation">,</span>
ecmaFeatures<span class="token operator">:</span> <span class="token punctuation">{</span>
jsx<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
env<span class="token operator">:</span> <span class="token punctuation">{</span>
browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
commonjs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
es6<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
settings<span class="token operator">:</span> <span class="token punctuation">{</span>
react<span class="token operator">:</span> <span class="token punctuation">{</span>
version<span class="token operator">:</span> <span class="token string">'detect'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">'import/extensions'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.tsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'jsx-a11y'</span><span class="token punctuation">,</span> <span class="token string">'@typescript-eslint'</span><span class="token punctuation">,</span> <span class="token string">'react-hooks'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>
<span class="token string">'plugin:@typescript-eslint/recommended'</span><span class="token punctuation">,</span>
<span class="token string">'plugin:@typescript-eslint/recommended-requiring-type-checking'</span><span class="token punctuation">,</span>
<span class="token string">'plugin:react-hooks/recommended'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
rules<span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token comment">//------------------------前端规范-排版格式-------------------------------</span>
<span class="token operator">/</span>\<span class="token operator">*</span>\<span class="token operator">*</span>
_ 规则 <span class="token number">15</span> 采取一致的空格缩进<span class="token punctuation">,</span><span class="token function">只允许使用空格</span><span class="token punctuation">(</span>space<span class="token punctuation">)</span>进行缩进。
_<span class="token operator">/</span>
indent<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 前端规范规则16	超长代码需要被换行
     * 规则22	每行代码应该少于120个字符（以此为准）
     */</span>
    <span class="token string">'max-len'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> code<span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议5	方法的参数尽量在一行显示
     */</span>
    <span class="token string">'function-paren-newline'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议6	对象字面量属性超过4个, 需要都换行
     */</span>
    <span class="token string">'object-property-newline'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'warn'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> allowAllPropertiesOnSameLine<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议7	链式调用对象方法时，一行最多调用4次，否则需要换行
     */</span>
    <span class="token string">'newline-per-chained-call'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> ignoreChainWithDepth<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则20	给if、for、do、while等语句的执行体加花括号 {}
     */</span>
    curly<span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议15	使用拖尾逗号
     */</span>
    <span class="token string">'comma-dangle'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'always-multiline'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议16	每句代码后加分号
     */</span>
    <span class="token string">'semi-style'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'last'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议19	控制文件的长度，最好不要超过2000行
     */</span>
    <span class="token string">'max-lines'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 原则6	方法设计应遵循单一职责原则（SRP），一个方法仅完成一个功能
     */</span>
    <span class="token string">'max-lines-per-function'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议21	圈复杂度不超过20
     * 软件学院统一要求是：10
     */</span>
    complexity<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议22	块语句的最大可嵌套深度不要超过4层
     */</span>
    <span class="token string">'max-depth'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议23	回调函数嵌套的层数不超过4层
     */</span>
    <span class="token string">'max-nested-callbacks'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则25	禁止连续赋值
     */</span>
    <span class="token string">'no-multi-assign'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则26	变量不需要用undefined初始化
     */</span>
    <span class="token string">'no-undef-init'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则67	块内变量不能与函数内的其他变量同名，块内函数应该使用函数表达式声明
     */</span>
    <span class="token string">'no-shadow'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议26	方法的参数个数不宜超过5个
     */</span>
    <span class="token string">'max-params'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则28	不要把方法的入参当作工作变量/临时变量
     */</span>
    <span class="token string">'no-param-reassign'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则29	不要使用 arguments，可以选择 rest 语法替代
     */</span>
    <span class="token string">'prefer-rest-params'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议31	function 声明或表达式的一致性
     */</span>
    <span class="token string">'func-style'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'declaration'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> allowArrowFunctions<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则30	用到匿名函数时优先使用箭头函数（或 Function#bind），别保存 this 的引用
     */</span>
    <span class="token string">'prefer-arrow-callback'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则31	箭头函数的简写
     */</span>
    <span class="token string">'arrow-body-style'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'as-needed'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则32	要求使用一致的 return 语句
     */</span>
    <span class="token string">'consistent-return'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则35	在构造函数中禁止在调用super()之前使用this或super
     */</span>
    <span class="token string">'no-this-before-super'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议36	建议字符串使用单引号
     */</span>
    quotes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'warn'</span><span class="token punctuation">,</span> <span class="token string">'single'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则36	使用模板字符串（`）实现字符串拼接
     */</span>
    <span class="token string">'prefer-template'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议37	不要使用字符串的行连续符号
     */</span>
    <span class="token string">'no-multi-str'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议43	推荐在对象字面量中使用属性简写
     */</span>
    <span class="token string">'object-shorthand'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则41	使用点号来访问对象的属性，只有属性是动态的时候使用 []
     */</span>
    <span class="token string">'dot-notation'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则42	getter和setter应该成对出现在对象中
     */</span>
    <span class="token string">'accessor-pairs'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则43	禁止在对象实例上直接使用 Object.prototypes 的内置属性
     */</span>
    <span class="token string">'no-prototype-builtins'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则44	需要约束 for-in
     */</span>
    <span class="token string">'guard-for-in'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议47	判断相等时使用 === 和 !== ，而不是 == 和 !=
     */</span>
    eqeqeq<span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 建议50	不要使用否定表达式
     */</span>
    <span class="token string">'no-negated-condition'</span><span class="token operator">:</span> <span class="token string">'warn'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则47	每个switch语句都包含一个default语句，即使它不包含任何代码
     */</span>
    <span class="token string">'default-case'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则48	在switch语句的每一个有内容的case中都放置一条break语句
     */</span>
    <span class="token string">'no-fallthrough'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则49	case语句中需要声明词法时, 花括号{}不能省略
     */</span>
    <span class="token string">'no-case-declarations'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则59	禁止在 finally 语句块中出现控制流语句句块中出现控制流语句
     */</span>
    <span class="token string">'no-unsafe-finally'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 原则8	禁止使用eval()
     */</span>
    <span class="token string">'no-eval'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则61	禁止使用with() {}
     */</span>
    <span class="token string">'no-with'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>

    <span class="token comment">/**
     * 规则65	禁止使用较短的符号实现类型转换
     */</span>
    <span class="token string">'no-implicit-coercion'</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'error'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        allow<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'!!'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">,</span>
overrides<span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>
files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*.ts'</span><span class="token punctuation">,</span> <span class="token string">'*.tsx'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Your TypeScript files extension</span>
parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
project<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./tsconfig.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Specify it only for TypeScript files</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>第三方库(可信库)</p> <div class="language-JS extra-class"><pre class="language-js"><code>npm i typescript@<span class="token number">4.5</span><span class="token number">.4</span>   eslint@<span class="token number">7.32</span><span class="token number">.0</span> prettier@<span class="token number">2.4</span><span class="token number">.1</span> husky@<span class="token number">7.0</span><span class="token number">.4</span> lint<span class="token operator">-</span>staged@<span class="token number">11.2</span><span class="token number">.6</span> @commitlint<span class="token operator">/</span>cli@<span class="token number">13.2</span><span class="token number">.1</span> @commitlint<span class="token operator">/</span>config<span class="token operator">-</span>conventional@<span class="token number">13.2</span><span class="token number">.0</span>   @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>parser@<span class="token number">5.8</span><span class="token number">.0</span> eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>react@<span class="token number">7.27</span><span class="token number">.1</span> eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>babel@<span class="token number">5.3</span><span class="token number">.1</span> eslint<span class="token operator">-</span>plugin<span class="token operator">-</span><span class="token keyword">import</span>@<span class="token number">2.25</span><span class="token number">.3</span> eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>jsx<span class="token operator">-</span>a11y@<span class="token number">6.5</span><span class="token number">.1</span> eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>react<span class="token operator">-</span>hooks@<span class="token number">4.3</span><span class="token number">.0</span> @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>eslint<span class="token operator">-</span>plugin@<span class="token number">5.8</span><span class="token number">.0</span> <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chttyCode/sys-doc/edit/master/docs/engineer/component.md" target="_blank" rel="noopener noreferrer">编辑此内容</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/12/28</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sys-doc/engineer/webpack-source.html" class="prev">
        webpack 解读
      </a></span> <span class="next"><a href="/sys-doc/engineer/component-1.html">
        模版工程搭建
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/sys-doc/assets/js/app.222175ed.js" defer></script><script src="/sys-doc/assets/js/2.01d9652a.js" defer></script><script src="/sys-doc/assets/js/15.65e7ab38.js" defer></script>
  </body>
</html>
