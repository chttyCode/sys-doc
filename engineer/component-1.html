<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>sys-doc</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/sys-doc/assets/css/0.styles.f2c13968.css" as="style"><link rel="preload" href="/sys-doc/assets/js/app.07b7c81d.js" as="script"><link rel="preload" href="/sys-doc/assets/js/2.01d9652a.js" as="script"><link rel="preload" href="/sys-doc/assets/js/9.fde67e0a.js" as="script"><link rel="prefetch" href="/sys-doc/assets/js/10.331427a7.js"><link rel="prefetch" href="/sys-doc/assets/js/11.89b28dfb.js"><link rel="prefetch" href="/sys-doc/assets/js/12.7136e253.js"><link rel="prefetch" href="/sys-doc/assets/js/13.a1feb60a.js"><link rel="prefetch" href="/sys-doc/assets/js/14.b0c7cf4d.js"><link rel="prefetch" href="/sys-doc/assets/js/15.28671588.js"><link rel="prefetch" href="/sys-doc/assets/js/16.edc12257.js"><link rel="prefetch" href="/sys-doc/assets/js/17.13d64156.js"><link rel="prefetch" href="/sys-doc/assets/js/18.61d35156.js"><link rel="prefetch" href="/sys-doc/assets/js/19.6157713c.js"><link rel="prefetch" href="/sys-doc/assets/js/20.8b84a948.js"><link rel="prefetch" href="/sys-doc/assets/js/21.03ded64d.js"><link rel="prefetch" href="/sys-doc/assets/js/22.48cb9c16.js"><link rel="prefetch" href="/sys-doc/assets/js/23.60baf3ac.js"><link rel="prefetch" href="/sys-doc/assets/js/24.64e64d70.js"><link rel="prefetch" href="/sys-doc/assets/js/25.e55672d9.js"><link rel="prefetch" href="/sys-doc/assets/js/26.e11de8a1.js"><link rel="prefetch" href="/sys-doc/assets/js/27.457b79a7.js"><link rel="prefetch" href="/sys-doc/assets/js/28.b91f3c9f.js"><link rel="prefetch" href="/sys-doc/assets/js/29.ab9ef338.js"><link rel="prefetch" href="/sys-doc/assets/js/3.2b33e907.js"><link rel="prefetch" href="/sys-doc/assets/js/30.55e9a9bf.js"><link rel="prefetch" href="/sys-doc/assets/js/31.0c0fc3f6.js"><link rel="prefetch" href="/sys-doc/assets/js/32.e314141f.js"><link rel="prefetch" href="/sys-doc/assets/js/33.df325e04.js"><link rel="prefetch" href="/sys-doc/assets/js/34.ae0d0f3f.js"><link rel="prefetch" href="/sys-doc/assets/js/35.416394de.js"><link rel="prefetch" href="/sys-doc/assets/js/36.0f98bd03.js"><link rel="prefetch" href="/sys-doc/assets/js/37.dfbffb38.js"><link rel="prefetch" href="/sys-doc/assets/js/38.cf3be4f4.js"><link rel="prefetch" href="/sys-doc/assets/js/39.5e3f13bc.js"><link rel="prefetch" href="/sys-doc/assets/js/4.ba3164ba.js"><link rel="prefetch" href="/sys-doc/assets/js/40.4c6aa0e8.js"><link rel="prefetch" href="/sys-doc/assets/js/41.54caa505.js"><link rel="prefetch" href="/sys-doc/assets/js/42.ec5daa0a.js"><link rel="prefetch" href="/sys-doc/assets/js/43.d9177c9c.js"><link rel="prefetch" href="/sys-doc/assets/js/44.7813468c.js"><link rel="prefetch" href="/sys-doc/assets/js/45.5b04c343.js"><link rel="prefetch" href="/sys-doc/assets/js/46.d28fed93.js"><link rel="prefetch" href="/sys-doc/assets/js/47.42f502cb.js"><link rel="prefetch" href="/sys-doc/assets/js/48.ea85e8e1.js"><link rel="prefetch" href="/sys-doc/assets/js/49.4007bf78.js"><link rel="prefetch" href="/sys-doc/assets/js/5.75a3592b.js"><link rel="prefetch" href="/sys-doc/assets/js/50.20021ec4.js"><link rel="prefetch" href="/sys-doc/assets/js/51.950d1096.js"><link rel="prefetch" href="/sys-doc/assets/js/52.c8cd6177.js"><link rel="prefetch" href="/sys-doc/assets/js/53.d80f960d.js"><link rel="prefetch" href="/sys-doc/assets/js/54.3703a457.js"><link rel="prefetch" href="/sys-doc/assets/js/55.a5913ca1.js"><link rel="prefetch" href="/sys-doc/assets/js/56.8bfb8932.js"><link rel="prefetch" href="/sys-doc/assets/js/57.05f0a7bb.js"><link rel="prefetch" href="/sys-doc/assets/js/58.143bbdd5.js"><link rel="prefetch" href="/sys-doc/assets/js/59.b142cf76.js"><link rel="prefetch" href="/sys-doc/assets/js/6.0377ba0c.js"><link rel="prefetch" href="/sys-doc/assets/js/60.cf7867c5.js"><link rel="prefetch" href="/sys-doc/assets/js/61.a27fb1f3.js"><link rel="prefetch" href="/sys-doc/assets/js/62.1c7b9e02.js"><link rel="prefetch" href="/sys-doc/assets/js/63.4cf98227.js"><link rel="prefetch" href="/sys-doc/assets/js/64.bf0b7ecf.js"><link rel="prefetch" href="/sys-doc/assets/js/65.c37a5abd.js"><link rel="prefetch" href="/sys-doc/assets/js/66.d15efb7a.js"><link rel="prefetch" href="/sys-doc/assets/js/67.7c75e618.js"><link rel="prefetch" href="/sys-doc/assets/js/68.12e0c03d.js"><link rel="prefetch" href="/sys-doc/assets/js/69.39e488c5.js"><link rel="prefetch" href="/sys-doc/assets/js/7.e59ee139.js"><link rel="prefetch" href="/sys-doc/assets/js/70.3e64db6a.js"><link rel="prefetch" href="/sys-doc/assets/js/71.9733a685.js"><link rel="prefetch" href="/sys-doc/assets/js/72.8d4415e1.js"><link rel="prefetch" href="/sys-doc/assets/js/73.a1d9b05d.js"><link rel="prefetch" href="/sys-doc/assets/js/74.59b5b15a.js"><link rel="prefetch" href="/sys-doc/assets/js/75.baf5b699.js"><link rel="prefetch" href="/sys-doc/assets/js/76.2a3eb9c5.js"><link rel="prefetch" href="/sys-doc/assets/js/77.08ac1b0b.js"><link rel="prefetch" href="/sys-doc/assets/js/78.e03a28df.js"><link rel="prefetch" href="/sys-doc/assets/js/8.9202dc84.js">
    <link rel="stylesheet" href="/sys-doc/assets/css/0.styles.f2c13968.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sys-doc/" class="home-link router-link-active"><img src="/sys-doc/imgs/logo.jpeg" alt="sys-doc" class="logo"> <span class="site-name can-hide">sys-doc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link router-link-active">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sys-doc/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/sys-doc/programme/" class="nav-link">
  编程
</a></div><div class="nav-item"><a href="/sys-doc/engineer/" class="nav-link router-link-active">
  工程
</a></div><div class="nav-item"><a href="/sys-doc/framework/" class="nav-link">
  架构
</a></div><div class="nav-item"><a href="/sys-doc/shell/" class="nav-link">
  集锦
</a></div><div class="nav-item"><a href="/sys-doc/leetCode/" class="nav-link">
  LCode
</a></div> <a href="https://github.com/chttyCode/sys-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/sys-doc/engineer/" aria-current="page" class="sidebar-link">工程</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>组件库开发</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/sys-doc/engineer/component.html" class="sidebar-link">代码风格统一</a></li><li><a href="/sys-doc/engineer/component-1.html" aria-current="page" class="active sidebar-link">/engineer/component-1.html</a></li><li><a href="/sys-doc/engineer/component-2.html" class="sidebar-link">组件开发流程</a></li><li><a href="/sys-doc/engineer/component-3.html" class="sidebar-link">组件文档生成</a></li><li><a href="/sys-doc/engineer/component-4.html" class="sidebar-link">组件发布</a></li><li><a href="/sys-doc/engineer/component-5.html" class="sidebar-link">CI/CD</a></li><li><a href="/sys-doc/engineer/component-6.html" class="sidebar-link">脚手架搭建</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ul><li><p>style</p> <ul><li>全局样式定义
<ul><li>reset
<ul><li>https://github.com/shannonmoeller/reset-css/blob/master/sass/_reset.scss</li></ul></li> <li>mixin
<ul><li>定义工具函数</li></ul></li> <li>variables
<ul><li>定义项目变量</li></ul></li> <li>文件以下划线命名标识为代码片段，不会编辑成 css 文件</li></ul></li></ul></li> <li><p>component</p> <ul><li>props 类型定义
<ul><li>集成支持原生属性</li> <li>集成支持原生属性</li></ul></li> <li>default 默认值设置</li></ul></li> <li><p>storybook</p> <ul><li><p>配置</p> <ul><li>storybook 是一个用于开发 UI 组件的开源工具，是 UI 组件的开发环境</li> <li>@storybook/react 是 React 的运行环境</li> <li>@storybook/addon-essentials 是 storybook 最好插件的合集</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    npm i @storybook<span class="token operator">/</span>react   @storybook<span class="token operator">/</span>addon<span class="token operator">-</span>essentials @storybook<span class="token operator">/</span>addon<span class="token operator">-</span>links @storybook<span class="token operator">/</span>addon<span class="token operator">-</span>postcss @storybook<span class="token operator">/</span>preset<span class="token operator">-</span>scss   @storybook<span class="token operator">/</span>builder<span class="token operator">-</span>webpack5 @storybook<span class="token operator">/</span>manager<span class="token operator">-</span>webpack5   <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><ul><li><p>不支持 scss</p> <ul><li>https://www.npmjs.com/package/@storybook/preset-scss</li></ul></li> <li><p>TypeError: this.getOptions is not a function</p> <ul><li>sass-loader 版本 vs webpack(storybook cli ) 版本冲突，尝试降级 sass-loader<a href="https://www.ouyanting.com/archives/2021/12/e3ba245d.html" target="_blank" rel="noopener noreferrer">未能解决问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>手动升级 storybook 的 webpack 至 5</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    npm i  @storybook<span class="token operator">/</span>builder<span class="token operator">-</span>webpack5 @storybook<span class="token operator">/</span>manager<span class="token operator">-</span>webpack5   <span class="token operator">-</span><span class="token constant">D</span>

    core<span class="token operator">:</span> <span class="token punctuation">{</span>
        builder<span class="token operator">:</span> <span class="token string">'webpack5'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre></div></li> <li><p>script</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;start-storybook -p 6006&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;build-storybook&quot;</span><span class="token operator">:</span> <span class="token string">&quot;build-storybook&quot;</span>
</code></pre></div></li> <li><p>支持的 story 格式</p> <ul><li>mdx 类似 jsx</li> <li>*.tsx</li></ul></li></ul></li> <li><p>test</p> <ul><li><p>配置</p> <ul><li>https://jestjs.io/docs/configuration</li> <li>jest 是一个令人愉快的 JavaScript 测试框架</li> <li>Enzyme 用于 React 的 JS 测试工具</li> <li>puppeteer 是一个控制 headless Chrome 的 Node.js API</li> <li>jest-image-snapshot 执行图像比较的 Jest 匹配器,对于视觉回归测试非常有用</li> <li>sinon 提供测试工具函数<a href="https://segmentfault.com/a/1190000010372634" target="_blank" rel="noopener noreferrer">sinon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>chai equal、a/an、ok、match 工具函数的断言库</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   npm i  jest @types<span class="token operator">/</span>jest  @wojtekmaj<span class="token operator">/</span>enzyme<span class="token operator">-</span>adapter<span class="token operator">-</span>react<span class="token operator">-</span><span class="token number">17</span> puppeteer@<span class="token number">10.4</span><span class="token number">.0</span> @types<span class="token operator">/</span>puppeteer jest<span class="token operator">-</span>environment<span class="token operator">-</span>puppeteer  @types<span class="token operator">/</span>jest<span class="token operator">-</span>environment<span class="token operator">-</span>puppeteer jest<span class="token operator">-</span>puppeteer  jest<span class="token operator">-</span>image<span class="token operator">-</span>snapshot @types<span class="token operator">/</span>jest<span class="token operator">-</span>image<span class="token operator">-</span>snapshot  enzyme  @types<span class="token operator">/</span>enzyme   <span class="token operator">--</span>ignore<span class="token operator">-</span>scripts   <span class="token operator">--</span><span class="token constant">D</span>
</code></pre></div><ul><li><p>e2e</p> <ul><li>ERROR: Failed to set up Chromium r938248! Set &quot;PUPPETEER_SKIP_DOWNLOAD&quot; env variable to skip download.</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    npm i puppeteer <span class="token operator">--</span>ignore<span class="token operator">-</span>scripts
</code></pre></div><p>或.npmrc</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">PUPPETEER_SKIP_DOWNLOAD</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>error<div class="language-js extra-class"><pre class="language-js"><code>    Error<span class="token operator">:</span> Jest<span class="token operator">:</span> Got error running globalSetup <span class="token operator">-</span> <span class="token constant">C</span><span class="token operator">:</span>\Users\k00557313\Desktop\Tmp\reactTmp\node_modules\jest<span class="token operator">-</span>environment<span class="token operator">-</span>puppeteer\setup<span class="token punctuation">.</span>js<span class="token punctuation">,</span> reason<span class="token operator">:</span> Could not find expected <span class="token function">browser</span> <span class="token punctuation">(</span>chrome<span class="token punctuation">)</span> locally<span class="token punctuation">.</span> Run <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm install</span><span class="token template-punctuation string">`</span></span> to download the correct Chromium <span class="token function">revision</span> <span class="token punctuation">(</span><span class="token number">938248</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre></div><ul><li>解决方案
<ul><li>设置 npm 源</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    npm config <span class="token keyword">set</span> puppeteer_download_host<span class="token operator">==</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npmmirror<span class="token punctuation">.</span>com
    npm i puppeteer
</code></pre></div><ul><li>使用 cnpm</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>npm install <span class="token operator">-</span>g cnpm <span class="token operator">--</span>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npmmirror<span class="token punctuation">.</span>com
cnpm i puppeteer
</code></pre></div><ul><li>手动操作
<ul><li>设置.nrmrc PUPPETEER_SKIP_DOWNLOAD 跳过 puppeteer</li> <li>下载<a href="https://npm.taobao.org/mirrors/chromium-browser-snapshots/" target="_blank" rel="noopener noreferrer">Chromium 镜像<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/<a href="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html" target="_blank" rel="noopener noreferrer">Chromium<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>默认路劲设置
<ul><li>node_modules/puppeteer/.local-chromium/win64-938248(系统类型-版本号)/chrome-win(解压下载的文件名)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token constant">C</span><span class="token operator">:</span>\Users\k00557313\Desktop\Tmp\reactTmp\node_modules\puppeteer\<span class="token punctuation">.</span>local<span class="token operator">-</span>chromium\win64<span class="token operator">-</span><span class="token number">938248</span>\chrome<span class="token operator">-</span>win
</code></pre></div><ul><li>版本号来自 puppeteer</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>    node_modules\puppeteer\lib\cjs\puppeteer\node\install<span class="token punctuation">.</span><span class="token parameter">js</span><span class="token operator">=&gt;</span>node_modules\puppeteer\lib\cjs\puppeteer\revisions<span class="token punctuation">.</span>js
</code></pre></div></li> <li>调用设置 executablePath 参数<div class="language-js extra-class"><pre class="language-js"><code>puppeteer<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> executablePath<span class="token operator">:</span> <span class="token string">'ChromiumExePath'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ul></li></ul></li></ul></li> <li><p>unit</p> <ul><li><p>Enzyme vs @testing-library/react</p> <ul><li><p>概念差异</p> <ul><li>Enzyme 使用 state、props 来测，组件变更会引起 test 失败</li> <li>@testing-library/react 从与用户的交互角度来测试，使用 DOM 来测试</li></ul></li> <li><p>渲染差异</p> <ul><li>@testing-library/react 通过全量 dom 来测试，不存再深浅测试</li> <li>Enzyme 可以选择深浅测试，浅渲染即不渲染子组件</li></ul></li> <li><p>使用方式</p> <ul><li>Enzyme 不仅可以测试 dom 还可测试状态即 state、props</li> <li>@testing-library/react 只能通过 dom</li></ul></li> <li><p>设置</p> <ul><li>不同版本 React 需兼容</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Enzyme <span class="token keyword">from</span> <span class="token string">'enzyme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Adapter <span class="token keyword">from</span> <span class="token string">'enzyme-adapter-react-16'</span><span class="token punctuation">;</span>

Enzyme<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>按需选择即可</p></li></ul></li></ul></li></ul></li></ul></li> <li><p>publish</p></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/chttyCode/sys-doc/edit/master/docs/engineer/component-1.md" target="_blank" rel="noopener noreferrer">编辑此内容</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/01/11</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/sys-doc/engineer/component.html" class="prev">
        代码风格统一
      </a></span> <span class="next"><a href="/sys-doc/engineer/component-2.html">
        组件开发流程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/sys-doc/assets/js/app.07b7c81d.js" defer></script><script src="/sys-doc/assets/js/2.01d9652a.js" defer></script><script src="/sys-doc/assets/js/9.fde67e0a.js" defer></script>
  </body>
</html>
